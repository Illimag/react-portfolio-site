"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(require("@bundled-es-modules/pdfjs-dist")),r=require("react"),t=e(r);function c(){return(c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function a(e){return"function"==typeof e}var o=t.forwardRef((function(e,n){var o=e.file,i=e.onDocumentLoadSuccess,s=e.onDocumentLoadFail,f=e.onPageLoadSuccess,d=e.onPageLoadFail,l=e.onPageRenderSuccess,p=e.onPageRenderFail,g=e.page,v=e.scale,P=e.rotate,h=e.cMapUrl,w=e.cMapPacked,R=e.workerSrc,S=e.withCredentials,m=e.children,L=function(e,n){if(null==e)return{};var r,t,c={},a=Object.keys(e);for(t=0;t<a.length;t++)n.indexOf(r=a[t])>=0||(c[r]=e[r]);return c}(e,["file","onDocumentLoadSuccess","onDocumentLoadFail","onPageLoadSuccess","onPageLoadFail","onPageRenderSuccess","onPageRenderFail","page","scale","rotate","cMapUrl","cMapPacked","workerSrc","withCredentials","children"]),k=r.useRef(null);r.useImperativeHandle(n,(function(){return k.current}));var F=u({canvasRef:k,file:o,onDocumentLoadSuccess:i,onDocumentLoadFail:s,onPageLoadSuccess:f,onPageLoadFail:d,onPageRenderSuccess:l,onPageRenderFail:p,page:g,scale:v,rotate:P,cMapUrl:h,cMapPacked:w,workerSrc:R,withCredentials:S}),j=t.createElement("canvas",Object.assign({},L,{ref:k}));return a(m)?m(c({canvas:j},F)):j})),u=function(e){var t=e.canvasRef,c=e.file,o=e.onDocumentLoadSuccess,u=e.onDocumentLoadFail,i=e.onPageLoadSuccess,s=e.onPageLoadFail,f=e.onPageRenderSuccess,d=e.onPageRenderFail,l=e.scale,p=void 0===l?1:l,g=e.rotate,v=void 0===g?0:g,P=e.page,h=void 0===P?1:P,w=e.cMapUrl,R=e.cMapPacked,S=e.workerSrc,m=void 0===S?"//cdnjs.cloudflare.com/ajax/libs/pdf.js/"+n.version+"/pdf.worker.js":S,L=e.withCredentials,k=void 0!==L&&L,F=r.useState(),j=F[0],x=F[1],E=r.useState(),M=E[0],D=E[1],b=r.useRef(null),y=r.useRef(o),C=r.useRef(u),O=r.useRef(i),U=r.useRef(s),q=r.useRef(f),_=r.useRef(d);return r.useEffect((function(){y.current=o}),[o]),r.useEffect((function(){C.current=u}),[u]),r.useEffect((function(){O.current=i}),[i]),r.useEffect((function(){U.current=s}),[s]),r.useEffect((function(){q.current=f}),[f]),r.useEffect((function(){_.current=d}),[d]),r.useEffect((function(){n.GlobalWorkerOptions.workerSrc=m}),[m]),r.useEffect((function(){var e={url:c,withCredentials:k};w&&(e.cMapUrl=w,e.cMapPacked=R),n.getDocument(e).promise.then((function(e){x(e),a(y.current)&&y.current(e)}),(function(){a(C.current)&&C.current()}))}),[c,k,w,R]),r.useEffect((function(){j&&j.getPage(h).then((function(e){D(e),a(O.current)&&O.current(e),function e(n){var r=window.devicePixelRatio,c=n.getViewport({scale:p*r,rotation:0===v?n.rotate:n.rotate+v}),o=t.current;if(o){var u=o.getContext("2d");if(u){if(o.style.width=c.width/r+"px",o.style.height=c.height/r+"px",o.height=c.height,o.width=c.width,!b.current)return b.current=n.render({canvasContext:u,viewport:c}),b.current.promise.then((function(){b.current=null,a(q.current)&&q.current(n)}),(function(r){b.current=null,r&&"RenderingCancelledException"===r.name?e(n):a(_.current)&&_.current()}));b.current.cancel()}}}(e)}),(function(){a(U.current)&&U.current()}))}),[t,h,j,v,p]),{pdfDocument:j,pdfPage:M}};exports.default=o,exports.usePdf=u;
//# sourceMappingURL=react-pdf.cjs.production.min.js.map

{"ast":null,"code":"import _classCallCheck from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _taggedTemplateLiteral from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  background: \", \";\\n  padding: \", \" \", \";\\n  text-align: right;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-bottom: \", \";\\n  padding: \", \" \", \" 0;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n\\n  text-align: left;\\n  padding: 0 \", \" \", \";\\n  margin-bottom: auto;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n\\n  padding-bottom: \", \";\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n    animation: \", \" \", \"ms\\n      cubic-bezier(0, 0, 0.25, 1);\\n    animation-fill-mode: forwards;\\n  \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    outline: none;\\n    color: \", \";\\n    \", \";\\n    margin: \", \" auto;\\n    display: flex;\\n    align-items: center;\\n    min-height: calc(100% - (\", \" * 2));\\n    animation: \", \"\\n      \", \"ms cubic-bezier(0, 0, 0.25, 1);\\n    animation-fill-mode: forwards;\\n\\n    @media screen and (max-width: \", \") {\\n      width: 100%;\\n      min-height: 100%;\\n      margin: 0;\\n      align-items: stretch;\\n    }\\n  \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: 0;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  from {\\n    opacity: 0;\\n    transform: translate(0, \", \"px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translate(0px);\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport styled, { keyframes, css } from '../../utils/styled';\nimport { Headline } from '../Headline';\nimport { white, cyan, dark, grey6 } from '../../colors';\nimport { Blocker } from '../Blocker';\nimport { CloseButton } from '../CloseButton';\nimport { distance } from '../../distance';\nimport { getFontStyle } from '../../textStyles';\nvar openAnimationDuration = 300;\nvar closeAnimationDuration = 200;\nvar blockerAnimationDuration = 200;\n\nvar InAnimation = function InAnimation(startOffset) {\n  return keyframes(_templateObject(), startOffset);\n};\n\nvar OutAnimation = function OutAnimation() {\n  return keyframes(_templateObject2());\n};\n\nvar BlockerInAnimation = function BlockerInAnimation() {\n  return keyframes(_templateObject3());\n};\n\nvar StyledModal = styled('div')(function (_ref) {\n  var width = _ref.width,\n      closing = _ref.closing;\n  return css(_templateObject4(), dark, width ? \"width: \".concat(width) : 'max-width: 500px', distance.xlarge, distance.xlarge, closing ? OutAnimation() : InAnimation(-72), closing ? closeAnimationDuration : openAnimationDuration, width || '500px');\n});\nvar StyledBlocker = styled(Blocker)(function (_ref2) {\n  var closing = _ref2.closing;\n  return css(_templateObject5(), closing ? OutAnimation() : BlockerInAnimation(), blockerAnimationDuration);\n});\nvar ModalContent = styled.div(function (_ref3) {\n  var minHeight = _ref3.minHeight;\n  return \"\\n    position: relative;\\n    display: flex;\\n    flex-direction: column;\\n    background: \".concat(white, \";\\n    box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1);\\n    border-top: 4px solid \").concat(cyan, \";\\n    width: 100%;\\n    \").concat(minHeight ? \"min-height: \".concat(minHeight) : '', \";\\n  \");\n});\nvar ModalLabel = styled.span(_templateObject6(), getFontStyle({\n  size: 'small'\n}), distance.small);\nvar StyledModalBody = styled.div(_templateObject7(), getFontStyle({\n  size: 'medium',\n  weight: 'regular'\n}), distance.xxlarge, distance.xxlarge);\nvar StyledModalHeader = styled.div(_templateObject8(), distance.medium, distance.xxlarge, distance.xxlarge);\nvar StyledModalFooter = styled.div(_templateObject9(), grey6, distance.large, distance.xxlarge);\n/**\n * A simple modal dialog for requiring user interaction.\n */\n\nexport var Modal = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Modal, _React$PureComponent);\n\n  var _super = _createSuper(Modal);\n\n  function Modal(props) {\n    var _this;\n\n    _classCallCheck(this, Modal);\n\n    _this = _super.call(this, props);\n\n    _this.closeBackground = function () {\n      _this.closeFrom('background');\n    };\n\n    _this.closeButton = function () {\n      _this.closeFrom('button');\n    };\n\n    _this.state = {\n      closing: false\n    };\n    return _this;\n  }\n\n  _createClass(Modal, [{\n    key: \"closeFrom\",\n    value: function closeFrom(origin) {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          onClose = _this$props.onClose,\n          onBeforeClose = _this$props.onBeforeClose;\n      var closeEvent = {\n        origin: origin\n      };\n      this.callOnBeforeCloseHandler(onBeforeClose, closeEvent).then(function (closePermitted) {\n        if (!closePermitted) {\n          return;\n        }\n\n        _this2.setState({\n          closing: true\n        }, function () {\n          return setTimeout(function () {\n            if (typeof onClose === 'function') {\n              onClose(closeEvent);\n            }\n\n            _this2.setState({\n              closing: false\n            });\n          }, closeAnimationDuration);\n        });\n      });\n    }\n  }, {\n    key: \"callOnBeforeCloseHandler\",\n    value: function callOnBeforeCloseHandler(onBeforeClose, closeEvent) {\n      if (typeof onBeforeClose !== 'function') {\n        return Promise.resolve(true);\n      }\n\n      var canClose = onBeforeClose(closeEvent);\n      return Promise.resolve(canClose);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _a = this.props,\n          _0 = _a.onBeforeClose,\n          children = _a.children,\n          onClose = _a.onClose,\n          _a$open = _a.open,\n          open = _a$open === void 0 ? false : _a$open,\n          minHeight = _a.minHeight,\n          rest = __rest(_a, [\"onBeforeClose\", \"children\", \"onClose\", \"open\", \"minHeight\"]);\n\n      var canClose = typeof onClose === 'function';\n      var closing = this.state.closing;\n      return open && React.createElement(StyledBlocker, {\n        closing: closing,\n        onClose: this.closeBackground\n      }, React.createElement(StyledModal, Object.assign({\n        tabIndex: 0,\n        closing: closing\n      }, rest), React.createElement(ModalContent, {\n        minHeight: minHeight\n      }, children, canClose && React.createElement(CloseButton, {\n        onClick: this.closeButton\n      }))));\n    }\n  }]);\n\n  return Modal;\n}(React.PureComponent);\nModal.inner = {\n  get StyledBlocker() {\n    return StyledBlocker;\n  },\n\n  get StyledModal() {\n    return StyledModal;\n  },\n\n  get ModalContent() {\n    return ModalContent;\n  },\n\n  get CloseButton() {\n    return CloseButton;\n  }\n\n};\n/**\n * Styles the body of a modal dialog.\n */\n\nexport var ModalBody = Object.assign(function (props) {\n  return React.createElement(StyledModalBody, Object.assign({}, props));\n}, {\n  inner: {\n    get StyledModalBody() {\n      return StyledModalBody;\n    }\n\n  }\n});\nModalBody.displayName = 'ModalBody';\n/**\n * Styles the header of a modal dialog\n */\n\nexport var ModalHeader = Object.assign(function (_a) {\n  var title = _a.title,\n      label = _a.label,\n      rest = __rest(_a, [\"title\", \"label\"]);\n\n  return React.createElement(StyledModalHeader, Object.assign({}, rest), label && React.createElement(ModalLabel, null, label), title && React.createElement(Headline, {\n    level: 2\n  }, title));\n}, {\n  inner: {\n    get StyledModalHeader() {\n      return StyledModalHeader;\n    },\n\n    get ModalLabel() {\n      return ModalLabel;\n    },\n\n    get Headline() {\n      return Headline;\n    }\n\n  }\n});\nModalHeader.displayName = 'ModalHeader';\n/**\n * Styles the footer of a modal dialog.\n */\n\nexport var ModalFooter = Object.assign(function (props) {\n  return React.createElement(StyledModalFooter, Object.assign({}, props));\n}, {\n  inner: {\n    get StyledModalFooter() {\n      return StyledModalFooter;\n    }\n\n  }\n});\nModalFooter.displayName = 'ModalFooter';","map":{"version":3,"sources":["../../../../src/components/Modal/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styled, { keyframes, css } from '../../utils/styled';\nimport { StandardProps } from '../../common';\nimport { Headline } from '../Headline';\nimport { white, cyan, dark, grey6 } from '../../colors';\nimport { Blocker, BlockerProps } from '../Blocker';\nimport { CloseButton } from '../CloseButton';\nimport { distance } from '../../distance';\nimport { getFontStyle } from '../../textStyles';\nexport type ModalCloseOrigin = 'button' | 'background';\nexport interface ModalCloseEvent {\n    origin: ModalCloseOrigin;\n}\ntype onBeforeCloseHandler = (e: ModalCloseEvent) => boolean | Promise<boolean>;\nexport interface ModalProps extends StandardProps {\n    /**\n     * Sets the content of the modal dialog.\n     */\n    children?: React.ReactNode;\n    /**\n     * Determines if the modal is currently open or not.\n     */\n    open?: boolean;\n    /**\n     * Event triggered before the modal is actually closed by the user.\n     */\n    onBeforeClose?: onBeforeCloseHandler;\n    /**\n     * Event triggered when the modal should be closed by the user.\n     */\n    onClose?(e: ModalCloseEvent): void;\n    /**\n     * When specified, default max-width of 500px will be overridden\n     * @deprecated Please define through styled components and ${Modal.inner.ModalContent}\n     */\n    width?: string;\n    /**\n     * Specify the minimal height for the modal container\n     * @deprecated Please define through styled components and ${Modal.inner.StyledModal}\n     */\n    minHeight?: string;\n}\nexport interface ModalHeaderProps extends StandardProps {\n    /**\n     * @ignore\n     */\n    children?: void;\n    /**\n     * The title of the modal dialog.\n     */\n    title?: string;\n    /**\n     * The label (above title) of the dialog.\n     */\n    label?: string;\n}\nconst openAnimationDuration = 300;\nconst closeAnimationDuration = 200;\nconst blockerAnimationDuration = 200;\nconst InAnimation = (startOffset: number) => keyframes `\n  from {\n    opacity: 0;\n    transform: translate(0, ${startOffset}px);\n  }\n  to {\n    opacity: 1;\n    transform: translate(0px);\n  }\n`;\nconst OutAnimation = () => keyframes `\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n`;\nconst BlockerInAnimation = () => keyframes `\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n`;\nexport interface ModalProps {\n    width?: string;\n}\nexport interface StyledModalProps extends ModalProps {\n    closing: boolean;\n}\nconst StyledModal = styled('div')<StyledModalProps>(({ width, closing }) => css `\n    outline: none;\n    color: ${dark};\n    ${width ? `width: ${width}` : 'max-width: 500px'};\n    margin: ${distance.xlarge} auto;\n    display: flex;\n    align-items: center;\n    min-height: calc(100% - (${distance.xlarge} * 2));\n    animation: ${closing ? OutAnimation() : InAnimation(-72)}\n      ${closing ? closeAnimationDuration : openAnimationDuration}ms cubic-bezier(0, 0, 0.25, 1);\n    animation-fill-mode: forwards;\n\n    @media screen and (max-width: ${width || '500px'}) {\n      width: 100%;\n      min-height: 100%;\n      margin: 0;\n      align-items: stretch;\n    }\n  `);\nexport interface StyledBlockerProps extends BlockerProps {\n    closing: boolean;\n}\nconst StyledBlocker = styled(Blocker)<StyledBlockerProps>(({ closing }) => css `\n    animation: ${closing ? OutAnimation() : BlockerInAnimation()} ${blockerAnimationDuration}ms\n      cubic-bezier(0, 0, 0.25, 1);\n    animation-fill-mode: forwards;\n  `);\nexport interface ModalContentProps {\n    minHeight?: string;\n}\nconst ModalContent = styled.div<ModalContentProps>(({ minHeight }) => `\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    background: ${white};\n    box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1);\n    border-top: 4px solid ${cyan};\n    width: 100%;\n    ${minHeight ? `min-height: ${minHeight}` : ''};\n  `);\nconst ModalLabel = styled.span `\n  ${getFontStyle({ size: 'small' })}\n\n  padding-bottom: ${distance.small};\n`;\nconst StyledModalBody = styled.div `\n  ${getFontStyle({ size: 'medium', weight: 'regular' })}\n\n  text-align: left;\n  padding: 0 ${distance.xxlarge} ${distance.xxlarge};\n  margin-bottom: auto;\n`;\nconst StyledModalHeader = styled.div `\n  margin-bottom: ${distance.medium};\n  padding: ${distance.xxlarge} ${distance.xxlarge} 0;\n`;\nconst StyledModalFooter = styled.div `\n  background: ${grey6};\n  padding: ${distance.large} ${distance.xxlarge};\n  text-align: right;\n`;\ninterface ModalState {\n    closing: boolean;\n}\n/**\n * A simple modal dialog for requiring user interaction.\n */\nexport class Modal extends React.PureComponent<ModalProps, ModalState> {\n    constructor(props: ModalProps) {\n        super(props);\n        this.state = {\n            closing: false,\n        };\n    }\n    private closeFrom(origin: ModalCloseOrigin) {\n        const { onClose, onBeforeClose } = this.props;\n        const closeEvent = { origin };\n        this.callOnBeforeCloseHandler(onBeforeClose, closeEvent).then(closePermitted => {\n            if (!closePermitted) {\n                return;\n            }\n            this.setState({ closing: true }, () => setTimeout(() => {\n                if (typeof onClose === 'function') {\n                    onClose(closeEvent);\n                }\n                this.setState({ closing: false });\n            }, closeAnimationDuration));\n        });\n    }\n    private callOnBeforeCloseHandler(onBeforeClose: onBeforeCloseHandler | undefined, closeEvent: ModalCloseEvent) {\n        if (typeof onBeforeClose !== 'function') {\n            return Promise.resolve(true);\n        }\n        const canClose = onBeforeClose(closeEvent);\n        return Promise.resolve(canClose);\n    }\n    private closeBackground = () => {\n        this.closeFrom('background');\n    };\n    private closeButton = () => {\n        this.closeFrom('button');\n    };\n    render() {\n        const { onBeforeClose: _0, children, onClose, open = false, minHeight, ...rest } = this.props;\n        const canClose = typeof onClose === 'function';\n        const { closing } = this.state;\n        return (open && (<StyledBlocker closing={closing} onClose={this.closeBackground}>\n          <StyledModal tabIndex={0} closing={closing} {...rest}>\n            <ModalContent minHeight={minHeight}>\n              {children}\n              {canClose && <CloseButton onClick={this.closeButton}/>}\n            </ModalContent>\n          </StyledModal>\n        </StyledBlocker>));\n    }\n    static inner = {\n        get StyledBlocker() { return StyledBlocker as typeof StyledBlocker; },\n        get StyledModal() { return StyledModal as typeof StyledModal; },\n        get ModalContent() { return ModalContent as typeof ModalContent; },\n        get CloseButton() { return CloseButton as typeof CloseButton; }\n    };\n}\n/**\n * Styles the body of a modal dialog.\n */\nexport const ModalBody = Object.assign(((props => (<StyledModalBody {...props}/>)) as React.FC<StandardProps & {\n    children: React.ReactNode;\n}>), { inner: {\n        get StyledModalBody() { return StyledModalBody as typeof StyledModalBody; }\n    } });\nModalBody.displayName = 'ModalBody';\n/**\n * Styles the header of a modal dialog\n */\nexport const ModalHeader = Object.assign(((({ title, label, ...rest }) => (<StyledModalHeader {...rest}>\n    {label && <ModalLabel>{label}</ModalLabel>}\n    {title && <Headline level={2}>{title}</Headline>}\n  </StyledModalHeader>)) as React.SFC<ModalHeaderProps>), { inner: {\n        get StyledModalHeader() { return StyledModalHeader as typeof StyledModalHeader; },\n        get ModalLabel() { return ModalLabel as typeof ModalLabel; },\n        get Headline() { return Headline as typeof Headline; }\n    } });\nModalHeader.displayName = 'ModalHeader';\n/**\n * Styles the footer of a modal dialog.\n */\nexport const ModalFooter = Object.assign(((props => <StyledModalFooter {...props}/>) as React.SFC<StandardProps>), { inner: {\n        get StyledModalFooter() { return StyledModalFooter as typeof StyledModalFooter; }\n    } });\nModalFooter.displayName = 'ModalFooter';\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
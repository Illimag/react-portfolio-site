{"ast":null,"code":"import _classCallCheck from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _taggedTemplateLiteral from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 54px;\\n  width: 54px;\\n  margin: 0;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { Autocomplete } from '../Autocomplete';\nimport { debounce } from '../../utils/debounce';\nimport { Icon } from '../Icon';\nimport { light } from '../../themes';\nimport { Button } from '../Button';\nimport styled from '../../utils/styled';\nvar SearchContainer = styled.div(_templateObject());\nvar SearchButton = styled(Button)(_templateObject2());\nvar defaultDebounceDelay = 200;\n/**\n * A search field for user search queries.\n */\n\nexport var SearchField = /*#__PURE__*/function (_React$Component) {\n  _inherits(SearchField, _React$Component);\n\n  var _super = _createSuper(SearchField);\n\n  function SearchField(props) {\n    var _this;\n\n    _classCallCheck(this, SearchField);\n\n    _this = _super.call(this, props);\n\n    _this.handleKeyDown = function (e) {\n      e.keyCode === 13\n      /* enter */\n      && _this.fireSearch(_this.state.query);\n    };\n\n    _this.onSearchClick = function () {\n      var onSearch = _this.props.onSearch;\n      typeof onSearch === 'function' && onSearch({\n        query: _this.state.query\n      });\n    };\n\n    _this.onClear = function () {\n      var _this$props = _this.props,\n          onClear = _this$props.onClear,\n          _this$props$triggerMo = _this$props.triggerMode,\n          triggerMode = _this$props$triggerMo === void 0 ? 'auto' : _this$props$triggerMo;\n      typeof onClear === 'function' && onClear(); // In case, triggerMode is set to manual, clicking on clear should also trigger the search.\n\n      triggerMode === 'manual' && _this.fireSearch('');\n    };\n\n    _this.onSuggestionSelected = function (e) {\n      var _this$props2 = _this.props,\n          onSuggestionSelected = _this$props2.onSuggestionSelected,\n          _this$props2$triggerM = _this$props2.triggerMode,\n          triggerMode = _this$props2$triggerM === void 0 ? 'auto' : _this$props2$triggerM;\n      typeof onSuggestionSelected === 'function' && onSuggestionSelected(e); // In case, triggerMode is set to manual, selecting a suggestion should also trigger the search.\n\n      triggerMode === 'manual' && _this.fireSearch(String(e.value));\n    };\n\n    _this.change = function (e) {\n      var _this$props3 = _this.props,\n          onChange = _this$props3.onChange,\n          _this$props3$triggerM = _this$props3.triggerMode,\n          triggerMode = _this$props3$triggerM === void 0 ? 'auto' : _this$props3$triggerM;\n\n      _this.setState({\n        query: e.value\n      });\n\n      typeof onChange === 'function' && onChange(e);\n      triggerMode === 'auto' && _this.fireSearch(e.value);\n    };\n\n    var _props$delay = props.delay,\n        delay = _props$delay === void 0 ? defaultDebounceDelay : _props$delay;\n    _this.state = {\n      query: ''\n    };\n    _this.fireSearch = debounce(function (query) {\n      var onSearch = _this.props.onSearch;\n      typeof onSearch === 'function' && onSearch({\n        query: query\n      });\n    }, delay);\n    return _this;\n  }\n\n  _createClass(SearchField, [{\n    key: \"render\",\n    value: function render() {\n      var _a = this.props,\n          onSearch = _a.onSearch,\n          delay = _a.delay,\n          _a$icon = _a.icon,\n          icon = _a$icon === void 0 ? 'Search' : _a$icon,\n          _a$triggerMode = _a.triggerMode,\n          triggerMode = _a$triggerMode === void 0 ? 'auto' : _a$triggerMode,\n          rest = __rest(_a, [\"onSearch\", \"delay\", \"icon\", \"triggerMode\"]);\n\n      var autoTrigger = triggerMode === 'auto';\n      var fieldIconColor = rest.theme && rest.theme.text2 || light.text2;\n      var buttonIconColor = rest.theme && rest.theme.text4 || light.text4;\n      var searchFieldIcon = React.createElement(Icon, {\n        name: icon,\n        color: fieldIconColor,\n        size: \"22px\"\n      });\n      var searchButtonIcon = React.createElement(Icon, {\n        name: icon,\n        color: buttonIconColor,\n        size: \"22px\"\n      });\n      return React.createElement(SearchContainer, {\n        onKeyDown: this.handleKeyDown\n      }, React.createElement(Autocomplete, Object.assign({}, rest, {\n        onClear: this.onClear,\n        onChange: this.change,\n        onSuggestionSelected: this.onSuggestionSelected,\n        icon: autoTrigger ? searchFieldIcon : React.createElement(React.Fragment, null)\n      })), !autoTrigger && React.createElement(SearchButton, {\n        disabled: rest.disabled,\n        onClick: this.onSearchClick\n      }, searchButtonIcon));\n    }\n  }]);\n\n  return SearchField;\n}(React.Component);\nSearchField.inner = {\n  get Icon() {\n    return Icon;\n  },\n\n  get SearchContainer() {\n    return SearchContainer;\n  },\n\n  get Autocomplete() {\n    return Autocomplete;\n  },\n\n  get SearchButton() {\n    return SearchButton;\n  }\n\n};","map":{"version":3,"sources":["../../../../src/components/SearchField/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Autocomplete, AutocompleteProps, AutosuggestSelectEvent } from '../Autocomplete';\nimport { InputChangeEvent } from '../../common';\nimport { debounce } from '../../utils/debounce';\nimport { Icon, IconName } from '../Icon';\nimport { light } from '../../themes';\nimport { Button } from '../Button';\nimport styled from '../../utils/styled';\nimport { KeyCodes } from '../../utils/keyCodes';\nconst SearchContainer = styled.div `\n  display: flex;\n  flex-direction: row;\n`;\nconst SearchButton = styled(Button) `\n  height: 54px;\n  width: 54px;\n  margin: 0;\n`;\nexport interface SearchEvent {\n    query: string;\n}\nexport interface SearchFieldProps<T> extends AutocompleteProps<T> {\n    /**\n     * @ignore\n     */\n    children?: void;\n    /**\n     * The icon to be used for the search.\n     * @default Search\n     */\n    icon?: IconName;\n    /**\n     * Defines whether the search triggers onSearch on every keystroke or\n     * by manually clicking on a button or pressing enter.\n     *\n     * @default \"auto\"\n     */\n    triggerMode?: 'auto' | 'manual';\n    /**\n     * The debounce time in milliseconds.\n     * @default 200\n     */\n    delay?: number;\n    /**\n     * The event fired when the search is triggered.\n     */\n    onSearch?(ev: SearchEvent): void;\n    /**\n     * Always `true` on Searchfield components.\n     * @ignore\n     */\n    clearable?: boolean;\n}\nconst defaultDebounceDelay = 200;\ntype SearchFieldState = SearchEvent;\n/**\n * A search field for user search queries.\n */\nexport class SearchField<T> extends React.Component<SearchFieldProps<T>, SearchFieldState> {\n    private fireSearch: (q: string) => void;\n    constructor(props: SearchFieldProps<T>) {\n        super(props);\n        const { delay = defaultDebounceDelay } = props;\n        this.state = { query: '' };\n        this.fireSearch = debounce((query: string) => {\n            const { onSearch } = this.props;\n            typeof onSearch === 'function' && onSearch({ query });\n        }, delay);\n    }\n    private handleKeyDown = (e: React.KeyboardEvent<HTMLElement>) => {\n        e.keyCode === KeyCodes.enter && this.fireSearch(this.state.query);\n    };\n    private onSearchClick = () => {\n        const { onSearch } = this.props;\n        typeof onSearch === 'function' && onSearch({ query: this.state.query });\n    };\n    private onClear = () => {\n        const { onClear, triggerMode = 'auto' } = this.props;\n        typeof onClear === 'function' && onClear();\n        // In case, triggerMode is set to manual, clicking on clear should also trigger the search.\n        triggerMode === 'manual' && this.fireSearch('');\n    };\n    private onSuggestionSelected = (e: AutosuggestSelectEvent<T>) => {\n        const { onSuggestionSelected, triggerMode = 'auto' } = this.props;\n        typeof onSuggestionSelected === 'function' && onSuggestionSelected(e);\n        // In case, triggerMode is set to manual, selecting a suggestion should also trigger the search.\n        triggerMode === 'manual' && this.fireSearch(String(e.value));\n    };\n    private change = (e: InputChangeEvent<string>) => {\n        const { onChange, triggerMode = 'auto' } = this.props;\n        this.setState({ query: e.value });\n        typeof onChange === 'function' && onChange(e);\n        triggerMode === 'auto' && this.fireSearch(e.value);\n    };\n    render() {\n        const { onSearch, delay, icon = 'Search', triggerMode = 'auto', ...rest } = this.props;\n        const autoTrigger = triggerMode === 'auto';\n        const fieldIconColor = (rest.theme && rest.theme.text2) || light.text2;\n        const buttonIconColor = (rest.theme && rest.theme.text4) || light.text4;\n        const searchFieldIcon = <Icon name={icon} color={fieldIconColor} size=\"22px\"/>;\n        const searchButtonIcon = <Icon name={icon} color={buttonIconColor} size=\"22px\"/>;\n        return (<SearchContainer onKeyDown={this.handleKeyDown}>\n        <Autocomplete {...rest} onClear={this.onClear} onChange={this.change} onSuggestionSelected={this.onSuggestionSelected} icon={autoTrigger ? searchFieldIcon : <></>}/>\n        {!autoTrigger && (<SearchButton disabled={rest.disabled} onClick={this.onSearchClick}>\n            {searchButtonIcon}\n          </SearchButton>)}\n      </SearchContainer>);\n    }\n    static inner = {\n        get Icon() { return Icon as typeof Icon; },\n        get SearchContainer() { return SearchContainer as typeof SearchContainer; },\n        get Autocomplete() { return Autocomplete as typeof Autocomplete; },\n        get SearchButton() { return SearchButton as typeof SearchButton; }\n    };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _taggedTemplateLiteral from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  box-shadow: 0 0 20px -5px \", \";\\n  border: 2px solid \", \";\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: \", \" 0 -\", \" 0;\\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQYV2N89erVfwY0ICYmxoguxjgUFKI7GsTH5m4M3w1ChQC1/Ca8i2n1WgAAAABJRU5ErkJggg==');\\n  &:before {\\n    background: linear-gradient(to right, transparent 0px, rgba(0, 117, 120, 0.357) 100%);\\n    border-radius: 10px;\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n    top: 0;\\n    bottom: 0;\\n    content: '';\\n  }\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: \", \" 0 -\", \" 0;\\n  background: linear-gradient(\\n    to left,\\n    red 0,\\n    #f09 10%,\\n    #cd00ff 20%,\\n    #3200ff 30%,\\n    #06f 40%,\\n    #00fffd 50%,\\n    #0f6 60%,\\n    #35ff00 70%,\\n    #cdff00 80%,\\n    #f90 90%,\\n    red 100%\\n  );\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  background: linear-gradient(to right, white 0%, transparent 100%);\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  background: linear-gradient(to bottom, transparent 0%, black 100%);\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: \", \";\\n  height: \", \";\\n  position: relative;\\n  background-color: \", \";\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  margin: \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport styled from '../../utils/styled';\nimport { Slider } from '../Slider';\nimport { IndicatorKnob } from '../IndicatorKnob';\nimport { InteractiveSurface } from '../InteractiveSurface';\nimport { rgbToHsv, hsvToRgb, parseColor } from '../../utils/colors';\nimport { withFormContext } from '../../hoc/withFormContext';\nimport { distance } from '../../distance';\nimport { PaddedContainer } from '../PaddedContainer';\nimport { InputNotification } from '../InputNotification';\n\nfunction rgb(c) {\n  return \"rgb(\".concat(c.r, \", \").concat(c.g, \", \").concat(c.b, \")\");\n}\n\nfunction computeColor(color) {\n  var fc = color;\n\n  if (typeof color === 'string') {\n    color = parseColor(color);\n  } else if (typeof fc.h === 'number') {\n    return {\n      hsv: fc,\n      color: color,\n      base: hsvToRgb(fc.h, 1, 1)\n    };\n  } else {\n    color = {\n      r: color.r,\n      g: color.g,\n      b: color.b,\n      a: color.a\n    };\n  }\n\n  var hsv = rgbToHsv(color.r, color.g, color.b, color.a);\n  return {\n    hsv: hsv,\n    color: color,\n    base: hsvToRgb(hsv.h, 1, 1)\n  };\n}\n\nvar PickerContainer = styled.div(_templateObject(), distance.small);\nvar PickerSurface = styled(InteractiveSurface)(_templateObject2(), function (props) {\n  return props.width;\n}, function (props) {\n  return props.height;\n}, function (props) {\n  return props.color;\n});\nvar PickerSaturation = styled.div(_templateObject3());\nvar PickerValue = styled.div(_templateObject4());\nvar ColorSlider = styled(Slider)(_templateObject5(), distance.large, distance.xsmall);\nvar OpacitySlider = styled(Slider)(_templateObject6(), distance.large, distance.xsmall);\nvar ColorIndicator = styled(IndicatorKnob)(_templateObject7(), function (props) {\n  return props.disabled ? 'transparent' : '#000';\n}, function (props) {\n  return props.disabled ? '#ccc' : props.active ? '#eee' : '#fff';\n});\n\nvar ColorPickerInt = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(ColorPickerInt, _React$PureComponent);\n\n  var _super = _createSuper(ColorPickerInt);\n\n  function ColorPickerInt(props) {\n    var _this;\n\n    _classCallCheck(this, ColorPickerInt);\n\n    _this = _super.call(this, props);\n\n    _this.changeColor = function (e) {\n      var s = e.x;\n      var v = 1 - e.y;\n      var notify = _this.props.onChange;\n      var current = _this.state.value;\n      var rgb = hsvToRgb(current.h, s, v, current.a);\n      var selected = Object.assign({}, current, {\n        s: s,\n        v: v\n      }, rgb);\n\n      if (!_this.state.controlled) {\n        _this.changeTo({\n          value: selected\n        });\n      }\n\n      _this.setState({\n        active: e.active\n      });\n\n      if (typeof notify === 'function') {\n        notify({\n          value: selected\n        });\n      }\n    };\n\n    _this.changeBackground = function (e) {\n      var h = e.value;\n      var notify = _this.props.onChange;\n      var current = _this.state.value;\n      var rgb = hsvToRgb(h, current.s, current.v, current.a);\n      var selected = Object.assign({}, current, {\n        h: h,\n        s: current.s,\n        v: current.v\n      }, rgb);\n\n      if (!_this.state.controlled) {\n        var _base = hsvToRgb(h, 1, 1);\n\n        _this.changeTo({\n          base: _base,\n          value: selected\n        });\n      }\n\n      if (typeof notify === 'function') {\n        notify({\n          value: selected\n        });\n      }\n    };\n\n    _this.changeOpacity = function (e) {\n      var alpha = e.value;\n      var notify = _this.props.onChange;\n      var current = _this.state.value;\n      var selected = Object.assign({}, current, {\n        a: alpha\n      });\n\n      if (!_this.state.controlled) {\n        _this.changeTo({\n          value: selected\n        });\n      }\n\n      if (typeof notify === 'function') {\n        notify({\n          value: selected\n        });\n      }\n    };\n\n    var _computeColor = computeColor(props.value || props.defaultValue || {\n      r: 0,\n      g: 0,\n      b: 0\n    }),\n        hsv = _computeColor.hsv,\n        color = _computeColor.color,\n        base = _computeColor.base;\n\n    _this.state = {\n      controlled: props.value !== undefined,\n      active: false,\n      value: Object.assign({\n        a: 1\n      }, color, {\n        h: hsv.h,\n        s: hsv.s,\n        v: hsv.v\n      }),\n      base: base,\n      error: props.error\n    };\n    return _this;\n  }\n\n  _createClass(ColorPickerInt, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(_ref) {\n      var value = _ref.value,\n          error = _ref.error;\n\n      if (value && value !== this.state.value) {\n        var _computeColor2 = computeColor(value || this.state.value),\n            hsv = _computeColor2.hsv,\n            color = _computeColor2.color,\n            base = _computeColor2.base;\n\n        this.setState({\n          value: Object.assign({\n            a: 1\n          }, color, {\n            h: hsv.h,\n            s: hsv.s,\n            v: hsv.v\n          }),\n          base: base\n        });\n      }\n\n      this.setState({\n        error: error\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var form = this.props.form;\n      var controlled = this.state.controlled;\n\n      if (!controlled && form) {\n        form.subscribe(this);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var form = this.props.form;\n      var controlled = this.state.controlled;\n\n      if (!controlled && form) {\n        form.unsubscribe(this);\n      }\n    }\n  }, {\n    key: \"changeTo\",\n    value: function changeTo(state) {\n      var _this$props = this.props,\n          form = _this$props.form,\n          _this$props$name = _this$props.name,\n          name = _this$props$name === void 0 ? '' : _this$props$name;\n\n      if (form) {\n        form.change({\n          name: name,\n          value: state.value\n        });\n      } else {\n        this.setState(state);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          value = _this$state.value,\n          active = _this$state.active,\n          base = _this$state.base,\n          error = _this$state.error;\n\n      var _a = this.props,\n          _0 = _a.defaultValue,\n          _1 = _a.value,\n          _2 = _a.onChange,\n          _3 = _a.onInput,\n          allowOpacity = _a.allowOpacity,\n          hideBar = _a.hideBar,\n          _a$width = _a.width,\n          width = _a$width === void 0 ? '100%' : _a$width,\n          _a$height = _a.height,\n          height = _a$height === void 0 ? '200px' : _a$height,\n          info = _a.info,\n          props = __rest(_a, [\"defaultValue\", \"value\", \"onChange\", \"onInput\", \"allowOpacity\", \"hideBar\", \"width\", \"height\", \"info\"]);\n\n      var baseRgb = rgb(base);\n      var currentRgb = rgb(value);\n      var surface = {\n        color: baseRgb,\n        width: width,\n        height: height\n      };\n      return React.createElement(PickerContainer, Object.assign({}, props), React.createElement(PickerSurface, Object.assign({}, surface, {\n        onChange: this.changeColor\n      }), React.createElement(PickerValue, null), React.createElement(PickerSaturation, null), React.createElement(ColorIndicator, {\n        x: value.s,\n        y: 1 - value.v,\n        color: currentRgb,\n        active: active\n      })), !hideBar && React.createElement(ColorSlider, {\n        onChange: this.changeBackground,\n        value: value.h,\n        color: baseRgb\n      }), allowOpacity && React.createElement(OpacitySlider, {\n        onChange: this.changeOpacity,\n        value: value.a\n      }), (error || info) && React.createElement(PaddedContainer, {\n        top: \"small\",\n        bottom: \"xsmall\"\n      }, React.createElement(InputNotification, {\n        error: error,\n        info: info\n      })));\n    }\n  }]);\n\n  return ColorPickerInt;\n}(React.PureComponent);\n\nColorPickerInt.inner = {\n  get PickerContainer() {\n    return PickerContainer;\n  },\n\n  get PickerSurface() {\n    return PickerSurface;\n  },\n\n  get PickerValue() {\n    return PickerValue;\n  },\n\n  get PickerSaturation() {\n    return PickerSaturation;\n  },\n\n  get ColorIndicator() {\n    return ColorIndicator;\n  },\n\n  get ColorSlider() {\n    return ColorSlider;\n  },\n\n  get OpacitySlider() {\n    return OpacitySlider;\n  },\n\n  get PaddedContainer() {\n    return PaddedContainer;\n  },\n\n  get InputNotification() {\n    return InputNotification;\n  }\n\n};\n/**\n * A color picker for selecting a color in the UI.\n */\n\nexport var ColorPicker = withFormContext(ColorPickerInt);\nColorPicker.displayName = 'ColorPicker';","map":{"version":3,"sources":["../../../../src/components/ColorPicker/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styled from '../../utils/styled';\nimport { InputProps } from '../../common';\nimport { Slider, SliderChangeEvent } from '../Slider';\nimport { IndicatorKnob } from '../IndicatorKnob';\nimport { InteractiveSurface, InteractiveSurfaceChangeEvent } from '../InteractiveSurface';\nimport { rgbToHsv, hsvToRgb, parseColor } from '../../utils/colors';\nimport { withFormContext, FormContextProps } from '../../hoc/withFormContext';\nimport { showInputInfo } from '../../utils/input';\nimport { distance } from '../../distance';\nimport { PaddedContainer } from '../PaddedContainer';\nimport { InputNotification } from '../InputNotification';\nexport interface ColorChangeEvent {\n    /**\n     * Gets the selected color.\n     */\n    value: FullColor;\n}\nexport interface FullColor {\n    h: number;\n    s: number;\n    v: number;\n    r: number;\n    g: number;\n    b: number;\n    a: number;\n}\nexport interface RgbaColor {\n    /**\n     * The red part of the color.\n     */\n    r: number;\n    /**\n     * The green part of the color.\n     */\n    g: number;\n    /**\n     * The blue part of the color.\n     */\n    b: number;\n    /**\n     * The optional alpha part of the color - by default 1.\n     */\n    a?: number;\n}\nexport interface ColorPickerProps extends InputProps<FullColor | RgbaColor | string> {\n    /**\n     * Sets if the color wheel bar should be hidden.\n     */\n    hideBar?: boolean;\n    /**\n     * Sets if the transparency can be changed.\n     */\n    allowOpacity?: boolean;\n    /**\n     * Emitted once color changed.\n     */\n    onChange?(e: ColorChangeEvent): void;\n    /**\n     * Sets the height of the picker area, usually 200px.\n     */\n    height?: string;\n    /**\n     * Sets the width of the picker area, usually 100%.\n     */\n    width?: string;\n    /**\n     * @ignore\n     */\n    children?: void;\n}\nexport interface ColorPickerState {\n    controlled: boolean;\n    value: FullColor;\n    error?: React.ReactChild;\n    base: RgbaColor;\n    active: boolean;\n}\nfunction rgb(c: RgbaColor) {\n    return `rgb(${c.r}, ${c.g}, ${c.b})`;\n}\nfunction computeColor(color: FullColor | RgbaColor | string) {\n    const fc = color as FullColor;\n    if (typeof color === 'string') {\n        color = parseColor(color);\n    }\n    else if (typeof fc.h === 'number') {\n        return {\n            hsv: fc,\n            color,\n            base: hsvToRgb(fc.h, 1, 1),\n        };\n    }\n    else {\n        color = {\n            r: color.r,\n            g: color.g,\n            b: color.b,\n            a: color.a,\n        };\n    }\n    const hsv = rgbToHsv(color.r, color.g, color.b, color.a);\n    return {\n        hsv,\n        color,\n        base: hsvToRgb(hsv.h, 1, 1),\n    };\n}\nconst PickerContainer = styled.div `\n  margin: ${distance.small};\n`;\ninterface PickerSurfaceProps {\n    color: string;\n    width: string;\n    height: string;\n}\nconst PickerSurface = styled(InteractiveSurface)<PickerSurfaceProps> `\n  width: ${props => props.width};\n  height: ${props => props.height};\n  position: relative;\n  background-color: ${props => props.color};\n`;\nconst PickerSaturation = styled.div `\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: linear-gradient(to bottom, transparent 0%, black 100%);\n`;\nconst PickerValue = styled.div `\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: linear-gradient(to right, white 0%, transparent 100%);\n`;\nconst ColorSlider = styled(Slider) `\n  margin: ${distance.large} 0 -${distance.xsmall} 0;\n  background: linear-gradient(\n    to left,\n    red 0,\n    #f09 10%,\n    #cd00ff 20%,\n    #3200ff 30%,\n    #06f 40%,\n    #00fffd 50%,\n    #0f6 60%,\n    #35ff00 70%,\n    #cdff00 80%,\n    #f90 90%,\n    red 100%\n  );\n`;\nconst OpacitySlider = styled(Slider) `\n  margin: ${distance.large} 0 -${distance.xsmall} 0;\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQYV2N89erVfwY0ICYmxoguxjgUFKI7GsTH5m4M3w1ChQC1/Ca8i2n1WgAAAABJRU5ErkJggg==');\n  &:before {\n    background: linear-gradient(to right, transparent 0px, rgba(0, 117, 120, 0.357) 100%);\n    border-radius: 10px;\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    content: '';\n  }\n`;\ninterface ColorIndicatorProps {\n    disabled?: boolean;\n    active: boolean;\n}\nconst ColorIndicator = styled(IndicatorKnob)<ColorIndicatorProps> `\n  box-shadow: 0 0 20px -5px ${props => (props.disabled ? 'transparent' : '#000')};\n  border: 2px solid ${props => (props.disabled ? '#ccc' : props.active ? '#eee' : '#fff')};\n`;\nclass ColorPickerInt extends React.PureComponent<ColorPickerProps & FormContextProps, ColorPickerState> {\n    constructor(props: ColorPickerProps) {\n        super(props);\n        const { hsv, color, base } = computeColor(props.value || props.defaultValue || { r: 0, g: 0, b: 0 });\n        this.state = {\n            controlled: props.value !== undefined,\n            active: false,\n            value: {\n                a: 1,\n                ...color,\n                h: hsv.h,\n                s: hsv.s,\n                v: hsv.v,\n            },\n            base,\n            error: props.error,\n        };\n    }\n    UNSAFE_componentWillReceiveProps({ value, error }: ColorPickerProps) {\n        if (value && value !== this.state.value) {\n            const { hsv, color, base } = computeColor(value || this.state.value);\n            this.setState({\n                value: {\n                    a: 1,\n                    ...color,\n                    h: hsv.h,\n                    s: hsv.s,\n                    v: hsv.v,\n                },\n                base,\n            });\n        }\n        this.setState({ error });\n    }\n    componentDidMount() {\n        const { form } = this.props;\n        const { controlled } = this.state;\n        if (!controlled && form) {\n            form.subscribe(this);\n        }\n    }\n    componentWillUnmount() {\n        const { form } = this.props;\n        const { controlled } = this.state;\n        if (!controlled && form) {\n            form.unsubscribe(this);\n        }\n    }\n    private changeTo<K extends keyof ColorPickerState>(state: Pick<ColorPickerState, K>) {\n        const { form, name = '' } = this.props;\n        if (form) {\n            form.change({\n                name,\n                value: (state as Pick<ColorPickerState, 'value'>).value,\n            });\n        }\n        else {\n            this.setState(state);\n        }\n    }\n    private changeColor = (e: InteractiveSurfaceChangeEvent) => {\n        const s = e.x;\n        const v = 1 - e.y;\n        const notify = this.props.onChange;\n        const current = this.state.value;\n        const rgb = hsvToRgb(current.h, s, v, current.a);\n        const selected = {\n            ...current,\n            s: s,\n            v: v,\n            ...rgb,\n        };\n        if (!this.state.controlled) {\n            this.changeTo({\n                value: selected,\n            });\n        }\n        this.setState({\n            active: e.active,\n        });\n        if (typeof notify === 'function') {\n            notify({\n                value: selected,\n            });\n        }\n    };\n    private changeBackground = (e: SliderChangeEvent) => {\n        const h = e.value;\n        const notify = this.props.onChange;\n        const current = this.state.value;\n        const rgb = hsvToRgb(h, current.s, current.v, current.a);\n        const selected = {\n            ...current,\n            h,\n            s: current.s,\n            v: current.v,\n            ...rgb,\n        };\n        if (!this.state.controlled) {\n            const base = hsvToRgb(h, 1, 1);\n            this.changeTo({\n                base,\n                value: selected,\n            });\n        }\n        if (typeof notify === 'function') {\n            notify({\n                value: selected,\n            });\n        }\n    };\n    private changeOpacity = (e: SliderChangeEvent) => {\n        const alpha = e.value;\n        const notify = this.props.onChange;\n        const current = this.state.value;\n        const selected = {\n            ...current,\n            a: alpha,\n        };\n        if (!this.state.controlled) {\n            this.changeTo({\n                value: selected,\n            });\n        }\n        if (typeof notify === 'function') {\n            notify({\n                value: selected,\n            });\n        }\n    };\n    render() {\n        const { value, active, base, error } = this.state;\n        const { defaultValue: _0, value: _1, onChange: _2, onInput: _3, allowOpacity, hideBar, width = '100%', height = '200px', info, ...props } = this.props;\n        const baseRgb = rgb(base);\n        const currentRgb = rgb(value);\n        const surface = {\n            color: baseRgb,\n            width,\n            height,\n        };\n        return (<PickerContainer {...props}>\n        <PickerSurface {...surface} onChange={this.changeColor}>\n          <PickerValue />\n          <PickerSaturation />\n          <ColorIndicator x={value.s} y={1 - value.v} color={currentRgb} active={active}/>\n        </PickerSurface>\n        {!hideBar && <ColorSlider onChange={this.changeBackground} value={value.h} color={baseRgb}/>}\n        {allowOpacity && <OpacitySlider onChange={this.changeOpacity} value={value.a}/>}\n        {(error || info) && (<PaddedContainer top=\"small\" bottom=\"xsmall\">\n            <InputNotification error={error} info={info}/>\n          </PaddedContainer>)}\n      </PickerContainer>);\n    }\n    static inner = {\n        get PickerContainer() { return PickerContainer as typeof PickerContainer; },\n        get PickerSurface() { return PickerSurface as typeof PickerSurface; },\n        get PickerValue() { return PickerValue as typeof PickerValue; },\n        get PickerSaturation() { return PickerSaturation as typeof PickerSaturation; },\n        get ColorIndicator() { return ColorIndicator as typeof ColorIndicator; },\n        get ColorSlider() { return ColorSlider as typeof ColorSlider; },\n        get OpacitySlider() { return OpacitySlider as typeof OpacitySlider; },\n        get PaddedContainer() { return PaddedContainer as typeof PaddedContainer; },\n        get InputNotification() { return InputNotification as typeof InputNotification; }\n    };\n}\n/**\n * A color picker for selecting a color in the UI.\n */\nexport const ColorPicker = withFormContext(ColorPickerInt);\nColorPicker.displayName = 'ColorPicker';\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
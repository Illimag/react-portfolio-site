{"ast":null,"code":"import _taggedTemplateLiteral from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n      border-bottom: \", \"px solid \", \";\\n      &:hover {\\n        background: \", \";\\n      }\\n    \"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  border-radius: 0;\\n  height: 2px;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 0 !important;\\n  &:hover {\\n    background: \", \";\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n      border-bottom: 1px solid \", \";\\n      padding: 0;\\n      &:hover {\\n        background: \", \";\\n      }\\n    \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  table-layout: fixed;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: block;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport styled, { themed, css } from '../../utils/styled';\nimport { getPropLabel } from '../../utils/labels';\nimport { Icon } from '../Icon';\nimport { ProgressBar } from '../ProgressBar';\nimport { Table } from '../Table';\nimport { ActionIconContainer } from './ActionIconContainer.part';\nimport { StatusIcon } from './StatusIcon.part';\nimport { getStatus, iconNames } from './helpers';\nvar TextWrapBox = styled.div(_templateObject());\nvar StyledTable = styled(Table)(_templateObject2());\nvar ProgressTableRow = styled.tr(themed(function (_ref) {\n  var theme = _ref.theme;\n  return css(_templateObject3(), theme.ui4, theme.ui3);\n}));\nvar ProgressTableCell = styled.td(_templateObject4(), themed(function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.ui3;\n}));\nvar StyledProgressBar = styled(ProgressBar)(_templateObject5());\nexport var StyledTableRow = styled.tr(themed(function (_ref3) {\n  var hasProgressBar = _ref3.hasProgressBar,\n      theme = _ref3.theme;\n  return css(_templateObject6(), hasProgressBar ? 0 : 1, theme.ui4, theme.ui4);\n}));\nexport var StatusTable = Object.assign(function (_a) {\n  var theme = _a.theme,\n      files = _a.files,\n      onCancel = _a.onCancel,\n      onDelete = _a.onDelete,\n      props = __rest(_a, [\"theme\", \"files\", \"onCancel\", \"onDelete\"]);\n\n  var columns = {\n    name: {\n      header: getPropLabel(props, 'tableHeaderFileLabel')\n    },\n    status: {\n      header: getPropLabel(props, 'tableHeaderStatusLabel'),\n      width: '40%'\n    },\n    action: {\n      header: '',\n      width: '30px'\n    }\n  };\n  var data = files.map(function (item) {\n    return Object.assign({}, item, {\n      status: getStatus(item)\n    });\n  });\n\n  function rowRenderer(_ref4) {\n    var cells = _ref4.cells,\n        data = _ref4.data;\n    var hasProgressBar = !(data.canceled || data.error || data.progress >= 100);\n    return React.createElement(React.Fragment, {\n      key: data.fileId\n    }, React.createElement(StyledTableRow, {\n      hasProgressBar: hasProgressBar,\n      theme: theme\n    }, cells), hasProgressBar && React.createElement(ProgressTableRow, {\n      theme: theme\n    }, React.createElement(ProgressTableCell, {\n      colSpan: 3\n    }, React.createElement(StyledProgressBar, {\n      value: data.progress,\n      animate: true\n    }))));\n  }\n\n  function cellRenderer(e) {\n    var value = e.value;\n    var fileData = e.data;\n\n    if (e.key.toLowerCase() === 'action' && fileData) {\n      var status = getStatus(fileData);\n      return status === 'progress' || status === 'scanning' ? React.createElement(ActionIconContainer, {\n        onClick: function onClick() {\n          return onCancel({\n            files: [fileData]\n          });\n        }\n      }, React.createElement(Icon, {\n        name: \"Close\"\n      })) : status === 'success' ? React.createElement(ActionIconContainer, {\n        onClick: function onClick() {\n          return onDelete({\n            files: [fileData]\n          });\n        }\n      }, React.createElement(Icon, {\n        name: \"Delete\"\n      })) : false;\n    }\n\n    if (e.key.toLowerCase() === 'status' && e.data) {\n      var _status = getStatus(e.data);\n\n      var error = _status === 'error' && e.data.error;\n      return React.createElement(TextWrapBox, null, React.createElement(StatusIcon, {\n        condensed: true,\n        type: _status,\n        name: iconNames[value]\n      }), getPropLabel(props, \"\".concat(_status, \"TableUploadLabel\"), error));\n    }\n\n    return React.createElement(TextWrapBox, null, value);\n  }\n\n  return React.createElement(StyledTable, {\n    data: data,\n    theme: theme,\n    columns: columns,\n    rowRenderer: rowRenderer,\n    cellRenderer: cellRenderer,\n    mode: \"table\",\n    condensed: true\n  });\n}, {\n  inner: {\n    get StyledTableRow() {\n      return StyledTableRow;\n    },\n\n    get ProgressTableRow() {\n      return ProgressTableRow;\n    },\n\n    get ProgressTableCell() {\n      return ProgressTableCell;\n    },\n\n    get StyledProgressBar() {\n      return StyledProgressBar;\n    },\n\n    get ActionIconContainer() {\n      return ActionIconContainer;\n    },\n\n    get Icon() {\n      return Icon;\n    },\n\n    get TextWrapBox() {\n      return TextWrapBox;\n    },\n\n    get StatusIcon() {\n      return StatusIcon;\n    },\n\n    get StyledTable() {\n      return StyledTable;\n    }\n\n  }\n});","map":{"version":3,"sources":["../../../../src/components/FileUploaderDetails/StatusTable.part.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styled, { themed, css } from '../../utils/styled';\nimport { getPropLabel, StatusTableLabels } from '../../utils/labels';\nimport { Icon } from '../Icon';\nimport { ProgressBar } from '../ProgressBar';\nimport { Table, TableCellEvent, TableRowEvent } from '../Table';\nimport { ActionIconContainer } from './ActionIconContainer.part';\nimport { FileProgress, FileUploaderDetailsEvent } from './FileUploaderDetails.types.part';\nimport { StatusIcon } from './StatusIcon.part';\nimport { getStatus, iconNames } from './helpers';\nimport { StandardProps } from '../../common';\nconst TextWrapBox = styled.div `\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\nconst StyledTable = styled(Table) `\n  table-layout: fixed;\n`;\nconst ProgressTableRow = styled.tr(themed(({ theme }) => css `\n      border-bottom: 1px solid ${theme.ui4};\n      padding: 0;\n      &:hover {\n        background: ${theme.ui3};\n      }\n    `));\nconst ProgressTableCell = styled.td `\n  padding: 0 !important;\n  &:hover {\n    background: ${themed(({ theme }) => theme.ui3)};\n  }\n`;\nconst StyledProgressBar = styled(ProgressBar) `\n  border-radius: 0;\n  height: 2px;\n`;\nexport interface StyledTableRowProps {\n    hasProgressBar: boolean;\n}\nexport const StyledTableRow = styled.tr<StyledTableRowProps>(themed(({ hasProgressBar, theme }) => css `\n      border-bottom: ${hasProgressBar ? 0 : 1}px solid ${theme.ui4};\n      &:hover {\n        background: ${theme.ui4};\n      }\n    `));\nexport interface StatusTableProps extends StandardProps, StatusTableLabels {\n    files: Array<FileProgress>;\n    onCancel(e: FileUploaderDetailsEvent<FileProgress>): void;\n    onDelete(e: FileUploaderDetailsEvent<FileProgress>): void;\n}\nexport const StatusTable = Object.assign(((({ theme, files, onCancel, onDelete, ...props }) => {\n    const columns = {\n        name: {\n            header: getPropLabel(props, 'tableHeaderFileLabel'),\n        },\n        status: {\n            header: getPropLabel(props, 'tableHeaderStatusLabel'),\n            width: '40%',\n        },\n        action: {\n            header: '',\n            width: '30px',\n        },\n    };\n    const data = files.map(item => ({\n        ...item,\n        status: getStatus(item),\n    }));\n    function rowRenderer({ cells, data }: TableRowEvent<FileProgress>) {\n        const hasProgressBar = !(data.canceled || data.error || data.progress >= 100);\n        return (<React.Fragment key={data.fileId}>\n        <StyledTableRow hasProgressBar={hasProgressBar} theme={theme}>\n          {cells}\n        </StyledTableRow>\n        {hasProgressBar && (<ProgressTableRow theme={theme}>\n            <ProgressTableCell colSpan={3}>\n              <StyledProgressBar value={data.progress} animate/>\n            </ProgressTableCell>\n          </ProgressTableRow>)}\n      </React.Fragment>);\n    }\n    function cellRenderer(e: TableCellEvent<FileProgress>) {\n        const value = e.value;\n        const fileData = e.data;\n        if (e.key.toLowerCase() === 'action' && fileData) {\n            const status = getStatus(fileData);\n            return status === 'progress' || status === 'scanning' ? (<ActionIconContainer onClick={() => onCancel({ files: [fileData] })}>\n          <Icon name=\"Close\"/>\n        </ActionIconContainer>) : status === 'success' ? (<ActionIconContainer onClick={() => onDelete({ files: [fileData] })}>\n          <Icon name=\"Delete\"/>\n        </ActionIconContainer>) : (false);\n        }\n        if (e.key.toLowerCase() === 'status' && e.data) {\n            const status = getStatus(e.data);\n            const error = status === 'error' && e.data.error;\n            return (<TextWrapBox>\n          <StatusIcon condensed type={status} name={iconNames[value]}/>\n          {getPropLabel(props, `${status}TableUploadLabel` as any, error)}\n        </TextWrapBox>);\n        }\n        return <TextWrapBox>{value}</TextWrapBox>;\n    }\n    return (<StyledTable data={data} theme={theme} columns={columns} rowRenderer={rowRenderer} cellRenderer={cellRenderer} mode=\"table\" condensed/>);\n}) as React.SFC<StatusTableProps>), { inner: {\n        get StyledTableRow() { return StyledTableRow as typeof StyledTableRow; },\n        get ProgressTableRow() { return ProgressTableRow as typeof ProgressTableRow; },\n        get ProgressTableCell() { return ProgressTableCell as typeof ProgressTableCell; },\n        get StyledProgressBar() { return StyledProgressBar as typeof StyledProgressBar; },\n        get ActionIconContainer() { return ActionIconContainer as typeof ActionIconContainer; },\n        get Icon() { return Icon as typeof Icon; },\n        get TextWrapBox() { return TextWrapBox as typeof TextWrapBox; },\n        get StatusIcon() { return StatusIcon as typeof StatusIcon; },\n        get StyledTable() { return StyledTable as typeof StyledTable; }\n    } });\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
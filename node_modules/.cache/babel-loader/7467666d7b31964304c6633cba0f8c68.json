{"ast":null,"code":"import _createForOfIteratorHelper from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport { setLabels } from '../../utils/labels';\nexport function mergeData(newData, currentData) {\n  var all = {};\n\n  var _iterator = _createForOfIteratorHelper(currentData),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var file = _step.value;\n      all[file.fileId] = file;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var _iterator2 = _createForOfIteratorHelper(newData),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _file = _step2.value;\n\n      if (_file.deleted) {\n        delete all[_file.fileId];\n      } else if (!_file.canceled || all[_file.fileId]) {\n        all[_file.fileId] = _file;\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return Object.keys(all).map(function (key) {\n    return all[key];\n  });\n}\nexport var iconNames = {\n  error: 'Error',\n  canceled: 'Error',\n  progress: 'Sync',\n  scanning: 'Sync',\n  success: 'CheckCircle'\n};\nsetLabels({\n  tableHeaderFileLabel: 'File',\n  tableHeaderStatusLabel: 'Status',\n  errorTableUploadLabel: 'Upload failed',\n  canceledTableUploadLabel: 'Upload canceled',\n  progressTableUploadLabel: 'Uploading...',\n  successTableUploadLabel: 'Upload successful',\n  scanningTableUploadLabel: 'Scanning for viruses...',\n  uploadModalTitleLabel: 'Upload Details',\n  uploadProgressLabel: 'Uploading...',\n  uploadSuccessLabel: 'Upload successful',\n  uploadErrorLabel: 'Upload not successful',\n  uploadScanningLabel: 'Scanning for viruses',\n  viewDetailsLabel: 'View Details',\n  itemPluralLabel: 'Files',\n  itemSingularLabel: 'File',\n  cancelAllLabel: 'Cancel all uploads'\n});\nexport function getStatus(file) {\n  if (file.error) {\n    return 'error';\n  } else if (file.canceled || file.deleted) {\n    return 'canceled';\n  } else if (file.progress < 100) {\n    return 'progress';\n  } else if (file.scanning) {\n    return 'scanning';\n  }\n\n  return 'success';\n}","map":{"version":3,"sources":["../../../../src/components/FileUploaderDetails/helpers.ts"],"names":[],"mappings":";AAEA,SAAS,SAAT,QAA0B,oBAA1B;AAEA,OAAM,SAAU,SAAV,CAAoB,OAApB,EAAkD,WAAlD,EAAkF;AACtF,MAAM,GAAG,GAAG,EAAZ;;AADsF,6CAGnE,WAHmE;AAAA;;AAAA;AAGtF,wDAAgC;AAAA,UAArB,IAAqB;AAC9B,MAAA,GAAG,CAAC,IAAI,CAAC,MAAN,CAAH,GAAmB,IAAnB;AACD;AALqF;AAAA;AAAA;AAAA;AAAA;;AAAA,8CAOnE,OAPmE;AAAA;;AAAA;AAOtF,2DAA4B;AAAA,UAAjB,KAAiB;;AAC1B,UAAI,KAAI,CAAC,OAAT,EAAkB;AAChB,eAAO,GAAG,CAAC,KAAI,CAAC,MAAN,CAAV;AACD,OAFD,MAEO,IAAI,CAAC,KAAI,CAAC,QAAN,IAAkB,GAAG,CAAC,KAAI,CAAC,MAAN,CAAzB,EAAwC;AAC7C,QAAA,GAAG,CAAC,KAAI,CAAC,MAAN,CAAH,GAAmB,KAAnB;AACD;AACF;AAbqF;AAAA;AAAA;AAAA;AAAA;;AAetF,SAAO,MAAM,CAAC,IAAP,CAAY,GAAZ,EAAiB,GAAjB,CAAqB,UAAA,GAAG;AAAA,WAAI,GAAG,CAAC,GAAD,CAAP;AAAA,GAAxB,CAAP;AACD;AAED,OAAO,IAAM,SAAS,GAA8B;AAClD,EAAA,KAAK,EAAE,OAD2C;AAElD,EAAA,QAAQ,EAAE,OAFwC;AAGlD,EAAA,QAAQ,EAAE,MAHwC;AAIlD,EAAA,QAAQ,EAAE,MAJwC;AAKlD,EAAA,OAAO,EAAE;AALyC,CAA7C;AAQP,SAAS,CAAC;AACR,EAAA,oBAAoB,EAAE,MADd;AAER,EAAA,sBAAsB,EAAE,QAFhB;AAGR,EAAA,qBAAqB,EAAE,eAHf;AAIR,EAAA,wBAAwB,EAAE,iBAJlB;AAKR,EAAA,wBAAwB,EAAE,cALlB;AAMR,EAAA,uBAAuB,EAAE,mBANjB;AAOR,EAAA,wBAAwB,EAAE,yBAPlB;AAQR,EAAA,qBAAqB,EAAE,gBARf;AASR,EAAA,mBAAmB,EAAE,cATb;AAUR,EAAA,kBAAkB,EAAE,mBAVZ;AAWR,EAAA,gBAAgB,EAAE,uBAXV;AAYR,EAAA,mBAAmB,EAAE,sBAZb;AAaR,EAAA,gBAAgB,EAAE,cAbV;AAcR,EAAA,eAAe,EAAE,OAdT;AAeR,EAAA,iBAAiB,EAAE,MAfX;AAgBR,EAAA,cAAc,EAAE;AAhBR,CAAD,CAAT;AAmBA,OAAM,SAAU,SAAV,CAAoB,IAApB,EAAsC;AAC1C,MAAI,IAAI,CAAC,KAAT,EAAgB;AACd,WAAO,OAAP;AACD,GAFD,MAEO,IAAI,IAAI,CAAC,QAAL,IAAiB,IAAI,CAAC,OAA1B,EAAmC;AACxC,WAAO,UAAP;AACD,GAFM,MAEA,IAAI,IAAI,CAAC,QAAL,GAAgB,GAApB,EAAyB;AAC9B,WAAO,UAAP;AACD,GAFM,MAEA,IAAI,IAAI,CAAC,QAAT,EAAmB;AACxB,WAAO,UAAP;AACD;;AAED,SAAO,SAAP;AACD","sourcesContent":["import { IconName } from '../Icon';\nimport { FileProgress, ProgressStatus } from './FileUploaderDetails.types.part';\nimport { setLabels } from '../../utils/labels';\n\nexport function mergeData(newData: Array<FileProgress>, currentData: Array<FileProgress>): Array<FileProgress> {\n  const all = {};\n\n  for (const file of currentData) {\n    all[file.fileId] = file;\n  }\n\n  for (const file of newData) {\n    if (file.deleted) {\n      delete all[file.fileId];\n    } else if (!file.canceled || all[file.fileId]) {\n      all[file.fileId] = file;\n    }\n  }\n\n  return Object.keys(all).map(key => all[key]);\n}\n\nexport const iconNames: { [x: string]: IconName } = {\n  error: 'Error',\n  canceled: 'Error',\n  progress: 'Sync',\n  scanning: 'Sync',\n  success: 'CheckCircle',\n};\n\nsetLabels({\n  tableHeaderFileLabel: 'File',\n  tableHeaderStatusLabel: 'Status',\n  errorTableUploadLabel: 'Upload failed',\n  canceledTableUploadLabel: 'Upload canceled',\n  progressTableUploadLabel: 'Uploading...',\n  successTableUploadLabel: 'Upload successful',\n  scanningTableUploadLabel: 'Scanning for viruses...',\n  uploadModalTitleLabel: 'Upload Details',\n  uploadProgressLabel: 'Uploading...',\n  uploadSuccessLabel: 'Upload successful',\n  uploadErrorLabel: 'Upload not successful',\n  uploadScanningLabel: 'Scanning for viruses',\n  viewDetailsLabel: 'View Details',\n  itemPluralLabel: 'Files',\n  itemSingularLabel: 'File',\n  cancelAllLabel: 'Cancel all uploads',\n});\n\nexport function getStatus(file: FileProgress): ProgressStatus {\n  if (file.error) {\n    return 'error';\n  } else if (file.canceled || file.deleted) {\n    return 'canceled';\n  } else if (file.progress < 100) {\n    return 'progress';\n  } else if (file.scanning) {\n    return 'scanning';\n  }\n\n  return 'success';\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _createForOfIteratorHelper from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _taggedTemplateLiteral from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  border: solid 1px #dfe3e6;\\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1);\\n  position: absolute;\\n  z-index: 2;\\n  top: \", \"px;\\n  transform: translateY(\", \"%);\\n  background: \", \";\\n  border: 1px solid #dfe3e6;\\n  max-height: 50vh;\\n  overflow-y: auto;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  padding-left: \", \";\\n  display: flex;\\n  align-items: center;\\n  cursor: pointer;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  color: \", \";\\n  &:hover {\\n    color: \", \";\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport styled from '../../utils/styled';\nimport { InteractiveList, InteractiveListDirection } from '../InteractiveList';\nimport { Icon } from '../Icon';\nimport { white, cyan, skyBlue } from '../../colors';\nimport { distance } from '../../distance';\nimport OnClickOut from 'react-onclickoutside';\nvar RootWrapper = styled.div(_templateObject(), cyan, skyBlue);\nvar ButtonWrapper = styled.div(_templateObject2(), distance.xsmall);\nvar StyledCustomWrapper = styled.div(_templateObject3(), function (props) {\n  return props.direction === InteractiveListDirection.normal ? 8 : -30;\n}, function (props) {\n  return props.direction === InteractiveListDirection.normal ? 0 : -100;\n}, white);\nvar CustomWrapper = Object.assign(function (props) {\n  return React.createElement(StyledCustomWrapper, Object.assign({}, props));\n}, {\n  inner: {\n    get StyledCustomWrapper() {\n      return StyledCustomWrapper;\n    }\n\n  }\n});\n\nfunction renderValue(data, value) {\n  var _iterator = _createForOfIteratorHelper(data),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n\n      if (typeof item !== 'string' && item.key === value) {\n        return item.content || value;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return value;\n}\n\nvar SelectButtonInt = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(SelectButtonInt, _React$PureComponent);\n\n  var _super = _createSuper(SelectButtonInt);\n\n  function SelectButtonInt(props) {\n    var _this;\n\n    _classCallCheck(this, SelectButtonInt);\n\n    _this = _super.call(this, props);\n\n    _this.handleMouseDown = function (e) {\n      var open = _this.state.open;\n\n      _this.setState({\n        open: !open\n      });\n\n      e.preventDefault();\n    };\n\n    _this.handleChange = function (e) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          data = _this$props.data;\n      var controlled = _this.state.controlled;\n      var index = e.value.length ? e.value[0] : -1;\n      var item = data[index];\n      var value = item && (typeof item === 'string' ? item : item.key);\n\n      if (!value) {\n        return;\n      }\n\n      if (!controlled) {\n        _this.setState({\n          open: false,\n          value: value\n        });\n      } else {\n        _this.setState({\n          open: false\n        });\n      }\n\n      if (typeof onChange === 'function') {\n        onChange({\n          index: index,\n          value: value\n        });\n      }\n    };\n\n    _this.handleBlur = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleClickOutside = _this.handleBlur;\n    var controlled = props.value !== undefined;\n    _this.state = {\n      open: false,\n      value: (controlled ? props.value : props.defaultValue) || '',\n      controlled: controlled\n    };\n    return _this;\n  }\n\n  _createClass(SelectButtonInt, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var controlled = this.state.controlled;\n\n      if (controlled) {\n        this.setState({\n          value: nextProps.value || ''\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _a = this.props,\n          _a$data = _a.data,\n          data = _a$data === void 0 ? [] : _a$data,\n          _0 = _a.onChange,\n          _1 = _a.value,\n          props = __rest(_a, [\"data\", \"onChange\", \"value\"]);\n\n      var _this$state = this.state,\n          open = _this$state.open,\n          value = _this$state.value;\n      return React.createElement(RootWrapper, Object.assign({}, props), React.createElement(ButtonWrapper, {\n        onMouseDown: this.handleMouseDown\n      }, renderValue(data, value), React.createElement(Icon, {\n        name: \"ArrowDropDown\",\n        size: 1.5\n      })), React.createElement(InteractiveList, {\n        data: data,\n        open: open,\n        onBlur: this.handleBlur,\n        onChange: this.handleChange,\n        customWrapper: CustomWrapper,\n        value: value,\n        onClickOutside: function onClickOutside() {},\n        autoPosition: true,\n        autoFocus: true,\n        showTick: true\n      }));\n    }\n  }]);\n\n  return SelectButtonInt;\n}(React.PureComponent);\n\nSelectButtonInt.inner = {\n  get RootWrapper() {\n    return RootWrapper;\n  },\n\n  get ButtonWrapper() {\n    return ButtonWrapper;\n  },\n\n  get Icon() {\n    return Icon;\n  },\n\n  get InteractiveList() {\n    return InteractiveList;\n  }\n\n};\n/**\n * Represents a select button, which is a kind of dropdown button.\n */\n\nexport var SelectButton = OnClickOut(SelectButtonInt);","map":{"version":3,"sources":["../../../../src/components/SelectButton/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styled from '../../utils/styled';\nimport { InteractiveList, InteractiveListChangeEvent, InteractiveListItem, InteractiveListWrapperProps, InteractiveListDirection, } from '../InteractiveList';\nimport { Icon } from '../Icon';\nimport { white, cyan, skyBlue } from '../../colors';\nimport { StandardProps } from '../../common';\nimport { distance } from '../../distance';\nimport OnClickOut from 'react-onclickoutside';\nexport interface SelectButtonChangeEvent {\n    /**\n     * The currently selected index. In case none is\n     * chosen the value -1 is communicated.\n     */\n    index: number;\n    /**\n     * The currently selected value. Undefined if none\n     * is chosen.\n     */\n    value: string | undefined;\n}\nexport interface SelectButtonProps extends StandardProps {\n    /**\n     * The data source of the elements to show.\n     */\n    data: Array<string | InteractiveListItem>;\n    /**\n     * The currently selected value if any. Picking one enters the controlled mode.\n     */\n    value?: string;\n    /**\n     * The initial value if any. Picking one enters managed mode.\n     */\n    defaultValue?: string;\n    /**\n     * Event fired once the selected value changes.\n     */\n    onChange?(e: SelectButtonChangeEvent): void;\n    /**\n     * @ignore\n     */\n    children?: void;\n}\nexport interface SelectButtonState {\n    open: boolean;\n    value: string;\n    controlled: boolean;\n}\nconst RootWrapper = styled.div `\n  color: ${cyan};\n  &:hover {\n    color: ${skyBlue};\n  }\n`;\nconst ButtonWrapper = styled.div `\n  padding-left: ${distance.xsmall};\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n`;\nconst StyledCustomWrapper = styled.div<InteractiveListWrapperProps> `\n  position: absolute;\n  border: solid 1px #dfe3e6;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1);\n  position: absolute;\n  z-index: 2;\n  top: ${props => (props.direction === InteractiveListDirection.normal ? 8 : -30)}px;\n  transform: translateY(${props => (props.direction === InteractiveListDirection.normal ? 0 : -100)}%);\n  background: ${white};\n  border: 1px solid #dfe3e6;\n  max-height: 50vh;\n  overflow-y: auto;\n`;\nconst CustomWrapper = Object.assign(((props => {\n    return <StyledCustomWrapper {...props}/>;\n}) as React.SFC<InteractiveListWrapperProps>), { inner: {\n        get StyledCustomWrapper() { return StyledCustomWrapper as typeof StyledCustomWrapper; }\n    } });\nfunction renderValue(data: Array<string | InteractiveListItem>, value: string) {\n    for (const item of data) {\n        if (typeof item !== 'string' && item.key === value) {\n            return item.content || value;\n        }\n    }\n    return value;\n}\nclass SelectButtonInt extends React.PureComponent<SelectButtonProps, SelectButtonState> {\n    constructor(props: SelectButtonProps) {\n        super(props);\n        const controlled = props.value !== undefined;\n        this.state = {\n            open: false,\n            value: (controlled ? props.value : props.defaultValue) || '',\n            controlled,\n        };\n    }\n    UNSAFE_componentWillReceiveProps(nextProps: SelectButtonProps) {\n        const { controlled } = this.state;\n        if (controlled) {\n            this.setState({\n                value: nextProps.value || '',\n            });\n        }\n    }\n    private handleMouseDown = (e: React.MouseEvent<HTMLDivElement>) => {\n        const { open } = this.state;\n        this.setState({\n            open: !open,\n        });\n        e.preventDefault();\n    };\n    private handleChange = (e: InteractiveListChangeEvent) => {\n        const { onChange, data } = this.props;\n        const { controlled } = this.state;\n        const index = e.value.length ? e.value[0] : -1;\n        const item = data[index];\n        const value = item && (typeof item === 'string' ? item : item.key);\n        if (!value) {\n            return;\n        }\n        if (!controlled) {\n            this.setState({\n                open: false,\n                value,\n            });\n        }\n        else {\n            this.setState({\n                open: false,\n            });\n        }\n        if (typeof onChange === 'function') {\n            onChange({\n                index,\n                value,\n            });\n        }\n    };\n    private handleBlur = () => {\n        this.setState({\n            open: false,\n        });\n    };\n    handleClickOutside = this.handleBlur;\n    render() {\n        const { data = [], onChange: _0, value: _1, ...props } = this.props;\n        const { open, value } = this.state;\n        return (<RootWrapper {...props}>\n        <ButtonWrapper onMouseDown={this.handleMouseDown}>\n          {renderValue(data, value)}\n          <Icon name=\"ArrowDropDown\" size={1.5}/>\n        </ButtonWrapper>\n        <InteractiveList data={data} open={open} onBlur={this.handleBlur} onChange={this.handleChange} customWrapper={CustomWrapper} value={value} onClickOutside={() => { }} autoPosition autoFocus showTick/>\n      </RootWrapper>);\n    }\n    static inner = {\n        get RootWrapper() { return RootWrapper as typeof RootWrapper; },\n        get ButtonWrapper() { return ButtonWrapper as typeof ButtonWrapper; },\n        get Icon() { return Icon as typeof Icon; },\n        get InteractiveList() { return InteractiveList as typeof InteractiveList; }\n    };\n}\n/**\n * Represents a select button, which is a kind of dropdown button.\n */\nexport const SelectButton = OnClickOut(SelectButtonInt);\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
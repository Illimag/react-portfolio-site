{"ast":null,"code":"import _classCallCheck from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _slicedToArray from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 0;\\n  height: 0;\\n  overflow: hidden;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  -ms-grid-row: \", \";\\n  -ms-grid-row-span: \", \";\\n  grid-row: \", \" / span \", \";\\n  -ms-grid-column: \", \";\\n  -ms-grid-column-span: \", \";\\n  grid-column: \", \" / span \", \";\\n  max-width: 100%;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  background: #f1f1f1;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  opacity: 0.9999;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 100%;\\n  width: 100%;\\n  display: -ms-grid;\\n  display: grid;\\n  -ms-grid-columns: \", \";\\n  grid-template-columns: \", \";\\n  -ms-grid-rows: \", \";\\n  grid-template-rows: \", \";\\n  grid-gap: \", \";\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport styled from '../../utils/styled';\nimport { calcLayout } from '../../utils/gridLayout';\nimport { isIE } from '../../utils/browser';\nvar StyledGridWrapper = styled.div(_templateObject());\n\nfunction addPx(original, space) {\n  if (original.endsWith('px')) {\n    var dim = +original.replace('px', '');\n    return \"\".concat(dim + space, \"px\");\n  }\n\n  return original;\n}\n\nfunction computeIeRows(rows, spacing) {\n  if (isIE === 'IE11') {\n    var _spacing = _slicedToArray(spacing, 2),\n        rowSpace = _spacing[1];\n\n    if (rowSpace && rowSpace.endsWith('px')) {\n      var space = +rowSpace.replace('px', '');\n\n      if (space) {\n        var end = rows.length - 1;\n        return rows.map(function (row, i) {\n          return i !== end ? addPx(row, space) : row;\n        }).join(' ');\n      }\n    }\n  }\n\n  return rows.join(' ');\n}\n\nvar BasicGridLayout = styled.div(_templateObject2(), function (props) {\n  return props.columns.join(' ');\n}, function (props) {\n  return props.columns.join(' ');\n}, function (props) {\n  return computeIeRows(props.rows, props.spacing);\n}, function (props) {\n  return props.rows.join(' ');\n}, function (props) {\n  return props.spacing.join(' ');\n});\nvar GridLayout = styled(BasicGridLayout)(_templateObject3());\nvar ShadowGrid = styled(BasicGridLayout)(_templateObject4());\nvar DefaultUnusedCell = styled.div(_templateObject5()); // Remark:\n// At PR #258 a fix for \"complex content that overflows\" was introduced\n// which caused some problem. If this fix should be required in the future\n// again we should bring in something like the following:\n//\n// ```css\n// overflow: auto;\n// margin: -1em;\n// padding: 1em;\n// ```\n\nvar GridCell = styled.div(_templateObject6(), function (props) {\n  return props.ri + 1;\n}, function (props) {\n  return props.rf - props.ri;\n}, function (props) {\n  return props.ri + 1;\n}, function (props) {\n  return props.rf - props.ri;\n}, function (props) {\n  return props.ci + 1;\n}, function (props) {\n  return props.cf - props.ci;\n}, function (props) {\n  return props.ci + 1;\n}, function (props) {\n  return props.cf - props.ci;\n});\nvar HiddenGridCell = styled.div(_templateObject7());\n\nfunction repeat(n) {\n  var dim = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '1fr';\n\n  if (typeof n === 'number') {\n    var arr = [];\n\n    for (var i = 0; i < n; i++) {\n      arr.push(dim);\n    }\n\n    return arr;\n  } else if (!n) {\n    return [dim];\n  }\n\n  return n;\n}\n\nfunction period(unit) {\n  if (typeof unit === 'string') {\n    return [unit, unit];\n  } else if (!unit) {\n    return ['0', '0'];\n  }\n\n  return unit;\n}\n\nfunction getEmptyComponent(showEmptyCells) {\n  if (showEmptyCells === true) {\n    return function (row, col) {\n      return React.createElement(DefaultUnusedCell, {\n        key: \"uc-\".concat(row, \"-\").concat(col)\n      });\n    };\n  } else if (typeof showEmptyCells === 'object') {\n    return function (row, col) {\n      return React.cloneElement(showEmptyCells, {\n        key: \"uc-\".concat(row, \"-\").concat(col)\n      });\n    };\n  } else {\n    return showEmptyCells;\n  }\n}\n\nfunction computeAllocations(props) {\n  var children = props.children,\n      rows = props.rows,\n      columns = props.columns;\n  var allocation = [];\n  var layout = calcLayout(children, {\n    rows: typeof rows !== 'string' ? rows : undefined,\n    columns: typeof columns !== 'string' ? columns : undefined\n  });\n  var cells = React.Children.map(children, function (child, index) {\n    var position = layout.cells[index];\n\n    if (child && position) {\n      allocation.push(position);\n      var colSpan = position.colSpan,\n          column = position.column,\n          row = position.row,\n          rowSpan = position.rowSpan;\n\n      if (!colSpan || !rowSpan) {\n        return React.createElement(HiddenGridCell, null, child);\n      }\n\n      return React.createElement(GridCell, {\n        ci: column,\n        cf: column + colSpan,\n        ri: row,\n        rf: row + rowSpan,\n        key: index\n      }, child);\n    }\n\n    return undefined;\n  }) || [];\n  return {\n    allocation: allocation,\n    cells: cells,\n    rows: typeof rows === 'string' ? repeat(layout.rows, rows) : repeat(rows || layout.rows),\n    columns: typeof columns === 'string' ? repeat(layout.columns, columns) : repeat(columns || layout.columns)\n  };\n}\n\nfunction computeUnused(props, layout) {\n  var showEmptyCells = props.showEmptyCells;\n  var rows = layout.rows,\n      columns = layout.columns;\n  var unusedCells = [];\n\n  if (showEmptyCells) {\n    var renderer = getEmptyComponent(showEmptyCells);\n    var rowCount = rows.length;\n    var colCount = columns.length;\n\n    for (var i = 0; i < rowCount; i++) {\n      for (var j = 0; j < colCount; j++) {\n        var cell = renderer(i, j);\n        unusedCells.push(cell);\n      }\n    }\n  }\n\n  return unusedCells;\n}\n/**\n * The `Grid` component represents a uniform grid, i.e., a grid that does not change its column layout from row to row.\n */\n\n\nexport var Grid = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Grid, _React$PureComponent);\n\n  var _super = _createSuper(Grid);\n\n  function Grid(props) {\n    var _this;\n\n    _classCallCheck(this, Grid);\n\n    _this = _super.call(this, props);\n    var layout = computeAllocations(props);\n    _this.state = {\n      layout: layout,\n      unused: computeUnused(props, layout)\n    };\n    return _this;\n  }\n\n  _createClass(Grid, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var currLayout = this.state.layout;\n      var nextLayout = computeAllocations(nextProps);\n      this.setState({\n        layout: nextLayout\n      });\n\n      if (nextProps.showEmptyCells !== this.props.showEmptyCells || nextLayout.rows !== currLayout.rows || nextLayout.columns !== currLayout.columns) {\n        this.setState({\n          unused: computeUnused(nextProps, nextLayout)\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _a = this.props,\n          _0 = _a.rows,\n          _1 = _a.columns,\n          _a$spacing = _a.spacing,\n          spacing = _a$spacing === void 0 ? 0 : _a$spacing,\n          _2 = _a.showEmptyCells,\n          onLayout = _a.onLayout,\n          innerRef = _a.innerRef,\n          props = __rest(_a, [\"rows\", \"columns\", \"spacing\", \"showEmptyCells\", \"onLayout\", \"innerRef\"]);\n\n      var _this$state = this.state,\n          layout = _this$state.layout,\n          unused = _this$state.unused;\n      var space = typeof spacing === 'number' ? \"\".concat(spacing, \"px\") : spacing;\n      var selectedSpacing = period(space);\n\n      if (typeof onLayout === 'function') {\n        onLayout({\n          layout: layout\n        });\n      }\n\n      return React.createElement(StyledGridWrapper, {\n        ref: innerRef\n      }, !!unused.length && React.createElement(ShadowGrid, {\n        rows: layout.rows,\n        columns: layout.columns,\n        spacing: selectedSpacing\n      }, unused), React.createElement(GridLayout, Object.assign({\n        rows: layout.rows,\n        columns: layout.columns,\n        spacing: selectedSpacing\n      }, props), layout.cells));\n    }\n  }]);\n\n  return Grid;\n}(React.PureComponent);\nGrid.inner = {\n  get StyledGridWrapper() {\n    return StyledGridWrapper;\n  },\n\n  get ShadowGrid() {\n    return ShadowGrid;\n  },\n\n  get GridLayout() {\n    return GridLayout;\n  }\n\n};","map":{"version":3,"sources":["../../../../src/components/Grid/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styled from '../../utils/styled';\nimport { StandardProps } from '../../common';\nimport { GridAreaProps } from '../GridArea';\nimport { calcLayout, GridAllocation } from '../../utils/gridLayout';\nimport { isIE } from '../../utils/browser';\nexport interface EmptyCellRenderer {\n    (row: number, col: number): JSX.Element;\n}\nexport interface GridProps extends StandardProps {\n    /**\n     * Sets the number of rows in the grid, otherwise either 1\n     * (columns not fixed) or dynamic (columns fixed).\n     * A string indicates the height of rows in a dynamic setting.\n     * @default 1\n     */\n    rows?: number | string | Array<string>;\n    /**\n     * Sets the number of columns in the grid, otherwise either\n     * 1 (rows not fixed) or dynamic (rows fixed).\n     * A string indicates the width of columns in a dynamic setting.\n     * @default 1\n     */\n    columns?: number | string | Array<string>;\n    /**\n     * Optionally sets the spacing between the grid cells.\n     * By default 0, otherwise a single value sets the\n     * spacing between rows and columns, while two values\n     * set the spacing between the rows and columns\n     * respectively.\n     * @default 0\n     */\n    spacing?: number | string | [string, string];\n    /**\n     * Sets the grid's children.\n     */\n    children?: React.ReactNode;\n    /**\n     * By providing the show empty cell property, the grid will automatically\n     * render the empty (i.e., unused) cells and populate them using this\n     * component.\n     * @default false\n     */\n    showEmptyCells?: JSX.Element | EmptyCellRenderer | boolean;\n    /**\n     * Event fired once the layout has been computed.\n     */\n    onLayout?(e: GridLayoutEvent): void;\n    /**\n     * Gets the reference to the underlying HTML DOM element.\n     */\n    innerRef?(instance: HTMLElement | null): void;\n}\nexport interface GridLayoutEvent {\n    layout: GridLayout;\n}\nexport interface GridLayout {\n    allocation: Array<GridAllocation>;\n    cells: Array<JSX.Element | undefined>;\n    rows: Array<string>;\n    columns: Array<string>;\n}\nexport interface GridState {\n    layout: GridLayout;\n    unused: Array<JSX.Element>;\n}\ninterface GridLayoutProps {\n    rows: Array<string>;\n    columns: Array<string>;\n    spacing: [string, string];\n}\nconst StyledGridWrapper = styled.div `\n  position: relative;\n`;\nfunction addPx(original: string, space: number) {\n    if (original.endsWith('px')) {\n        const dim = +original.replace('px', '');\n        return `${dim + space}px`;\n    }\n    return original;\n}\nfunction computeIeRows(rows: Array<string>, spacing: [string, string]) {\n    if (isIE === 'IE11') {\n        const [, rowSpace] = spacing;\n        if (rowSpace && rowSpace.endsWith('px')) {\n            const space = +rowSpace.replace('px', '');\n            if (space) {\n                const end = rows.length - 1;\n                return rows.map((row, i) => (i !== end ? addPx(row, space) : row)).join(' ');\n            }\n        }\n    }\n    return rows.join(' ');\n}\nconst BasicGridLayout = styled.div<GridLayoutProps> `\n  height: 100%;\n  width: 100%;\n  display: -ms-grid;\n  display: grid;\n  -ms-grid-columns: ${props => props.columns.join(' ')};\n  grid-template-columns: ${props => props.columns.join(' ')};\n  -ms-grid-rows: ${props => computeIeRows(props.rows, props.spacing)};\n  grid-template-rows: ${props => props.rows.join(' ')};\n  grid-gap: ${props => props.spacing.join(' ')};\n`;\nconst GridLayout = styled(BasicGridLayout) `\n  opacity: 0.9999;\n`;\nconst ShadowGrid = styled(BasicGridLayout) `\n  position: absolute;\n`;\nconst DefaultUnusedCell = styled.div `\n  width: 100%;\n  height: 100%;\n  background: #f1f1f1;\n`;\ninterface GridCellProps {\n    ri: number;\n    rf: number;\n    ci: number;\n    cf: number;\n}\n// Remark:\n// At PR #258 a fix for \"complex content that overflows\" was introduced\n// which caused some problem. If this fix should be required in the future\n// again we should bring in something like the following:\n//\n// ```css\n// overflow: auto;\n// margin: -1em;\n// padding: 1em;\n// ```\nconst GridCell = styled.div<GridCellProps> `\n  -ms-grid-row: ${props => props.ri + 1};\n  -ms-grid-row-span: ${props => props.rf - props.ri};\n  grid-row: ${props => props.ri + 1} / span ${props => props.rf - props.ri};\n  -ms-grid-column: ${props => props.ci + 1};\n  -ms-grid-column-span: ${props => props.cf - props.ci};\n  grid-column: ${props => props.ci + 1} / span ${props => props.cf - props.ci};\n  max-width: 100%;\n`;\nconst HiddenGridCell = styled.div `\n  width: 0;\n  height: 0;\n  overflow: hidden;\n`;\nfunction repeat(n: number | Array<string> | undefined, dim = '1fr') {\n    if (typeof n === 'number') {\n        const arr: Array<string> = [];\n        for (let i = 0; i < n; i++) {\n            arr.push(dim);\n        }\n        return arr;\n    }\n    else if (!n) {\n        return [dim];\n    }\n    return n;\n}\nfunction period(unit: string | [string, string] | undefined): [string, string] {\n    if (typeof unit === 'string') {\n        return [unit, unit];\n    }\n    else if (!unit) {\n        return ['0', '0'];\n    }\n    return unit;\n}\nfunction getEmptyComponent(showEmptyCells: JSX.Element | EmptyCellRenderer | true): EmptyCellRenderer {\n    if (showEmptyCells === true) {\n        return (row, col) => <DefaultUnusedCell key={`uc-${row}-${col}`}/>;\n    }\n    else if (typeof showEmptyCells === 'object') {\n        return (row, col) => React.cloneElement(showEmptyCells, { key: `uc-${row}-${col}` });\n    }\n    else {\n        return showEmptyCells;\n    }\n}\ntype GridChild = React.ReactElement<GridAreaProps> & {\n    type: string;\n};\nfunction computeAllocations(props: GridProps): GridLayout {\n    const { children, rows, columns } = props;\n    const allocation: Array<GridAllocation> = [];\n    const layout = calcLayout(children, {\n        rows: typeof rows !== 'string' ? rows : undefined,\n        columns: typeof columns !== 'string' ? columns : undefined,\n    });\n    const cells = React.Children.map(children, (child: GridChild, index) => {\n        const position = layout.cells[index];\n        if (child && position) {\n            allocation.push(position);\n            const { colSpan, column, row, rowSpan } = position;\n            if (!colSpan || !rowSpan) {\n                return <HiddenGridCell>{child}</HiddenGridCell>;\n            }\n            return (<GridCell ci={column} cf={column + colSpan} ri={row} rf={row + rowSpan} key={index}>\n            {child}\n          </GridCell>);\n        }\n        return undefined;\n    }) || [];\n    return {\n        allocation,\n        cells,\n        rows: typeof rows === 'string' ? repeat(layout.rows, rows) : repeat(rows || layout.rows),\n        columns: typeof columns === 'string' ? repeat(layout.columns, columns) : repeat(columns || layout.columns),\n    };\n}\nfunction computeUnused(props: GridProps, layout: GridLayout) {\n    const { showEmptyCells } = props;\n    const { rows, columns } = layout;\n    const unusedCells: Array<JSX.Element> = [];\n    if (showEmptyCells) {\n        const renderer = getEmptyComponent(showEmptyCells);\n        const rowCount = rows.length;\n        const colCount = columns.length;\n        for (let i = 0; i < rowCount; i++) {\n            for (let j = 0; j < colCount; j++) {\n                const cell = renderer(i, j);\n                unusedCells.push(cell);\n            }\n        }\n    }\n    return unusedCells;\n}\n/**\n * The `Grid` component represents a uniform grid, i.e., a grid that does not change its column layout from row to row.\n */\nexport class Grid extends React.PureComponent<GridProps, GridState> {\n    constructor(props: GridProps) {\n        super(props);\n        const layout = computeAllocations(props);\n        this.state = {\n            layout,\n            unused: computeUnused(props, layout),\n        };\n    }\n    UNSAFE_componentWillReceiveProps(nextProps: GridProps) {\n        const currLayout = this.state.layout;\n        const nextLayout = computeAllocations(nextProps);\n        this.setState({\n            layout: nextLayout,\n        });\n        if (nextProps.showEmptyCells !== this.props.showEmptyCells ||\n            nextLayout.rows !== currLayout.rows ||\n            nextLayout.columns !== currLayout.columns) {\n            this.setState({\n                unused: computeUnused(nextProps, nextLayout),\n            });\n        }\n    }\n    render() {\n        const { rows: _0, columns: _1, spacing = 0, showEmptyCells: _2, onLayout, innerRef, ...props } = this.props;\n        const { layout, unused } = this.state;\n        const space = typeof spacing === 'number' ? `${spacing}px` : spacing;\n        const selectedSpacing = period(space);\n        if (typeof onLayout === 'function') {\n            onLayout({\n                layout,\n            });\n        }\n        return (<StyledGridWrapper ref={innerRef}>\n        {!!unused.length && (<ShadowGrid rows={layout.rows} columns={layout.columns} spacing={selectedSpacing}>\n            {unused}\n          </ShadowGrid>)}\n        <GridLayout rows={layout.rows} columns={layout.columns} spacing={selectedSpacing} {...props}>\n          {layout.cells}\n        </GridLayout>\n      </StyledGridWrapper>);\n    }\n    static inner = {\n        get StyledGridWrapper() { return StyledGridWrapper as typeof StyledGridWrapper; },\n        get ShadowGrid() { return ShadowGrid as typeof ShadowGrid; },\n        get GridLayout() { return GridLayout as typeof GridLayout; }\n    };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _taggedTemplateLiteral from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 0;\\n  margin-bottom: \", \";\\n  border: none;\\n\\n  &:last-child {\\n    margin-bottom: 0;\\n  }\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  overflow: visible;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-bottom: \", \";\\n\\n  &:last-child {\\n    margin-bottom: 0;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport styled from '../../utils/styled';\nimport { normalizeIndex, toggleIndex, hasIndex } from './helpers/indexHelper';\nimport { defaultCellRenderer } from '../Table/TableShared.part';\nimport { defaultBodyRenderer } from '../Table/TableCard.part';\nimport { AccordionCard } from '../AccordionCard';\nimport { ListItem } from '../ListItem';\nimport { List } from '../List';\nimport { distance } from '../../distance';\nimport { getFontStyle } from '../../textStyles';\nvar PropContainer = styled.div(_templateObject(), distance.medium);\nvar PropName = styled.div(_templateObject2(), getFontStyle({\n  size: 'xSmall'\n}));\nvar PropValue = styled.div(_templateObject3(), getFontStyle({\n  weight: 'medium'\n}));\nvar PlaceholderContainer = styled.div(_templateObject4());\nvar StyledList = styled(List)(_templateObject5());\nvar StyledListItem = styled(ListItem)(_templateObject6(), distance.xlarge);\nvar AccordionTableCardHost = Object.assign(function (props) {\n  return React.createElement(StyledList, Object.assign({}, props));\n}, {\n  inner: {\n    get StyledList() {\n      return StyledList;\n    }\n\n  }\n});\nexport var AccordionTableCard = /*#__PURE__*/function (_React$Component) {\n  _inherits(AccordionTableCard, _React$Component);\n\n  var _super = _createSuper(AccordionTableCard);\n\n  function AccordionTableCard(props) {\n    var _this;\n\n    _classCallCheck(this, AccordionTableCard);\n\n    _this = _super.call(this, props);\n\n    _this.renderItem = function (_ref) {\n      var item = _ref.item,\n          index = _ref.index,\n          open = _ref.open,\n          keys = _ref.keys,\n          closeLabel = _ref.closeLabel,\n          openLabel = _ref.openLabel;\n      var _this$props = _this.props,\n          detailsRenderer = _this$props.detailsRenderer,\n          theme = _this$props.theme;\n      return React.createElement(StyledListItem, {\n        theme: theme,\n        key: index\n      }, React.createElement(AccordionCard, {\n        openLabel: openLabel,\n        closeLabel: closeLabel,\n        theme: theme,\n        header: _this.renderItemProps(item, keys, index),\n        opened: open,\n        onActionClick: function onActionClick() {\n          return _this.handleClick(index, item);\n        }\n      }, open && detailsRenderer && detailsRenderer({\n        data: item,\n        index: index\n      })));\n    };\n\n    _this.state = {\n      selectedIndexes: normalizeIndex(props.selectedIndex),\n      controlled: props.selectedIndex !== undefined\n    };\n    return _this;\n  }\n\n  _createClass(AccordionTableCard, [{\n    key: \"handleClick\",\n    value: function handleClick(target, data) {\n      var _this$props2 = this.props,\n          onChange = _this$props2.onChange,\n          multiple = _this$props2.multiple;\n      var _this$state = this.state,\n          controlled = _this$state.controlled,\n          selectedIndexes = _this$state.selectedIndexes;\n      var nextIndexes = toggleIndex(selectedIndexes, target, multiple);\n\n      if (typeof onChange === 'function') {\n        onChange({\n          selectedIndex: multiple ? nextIndexes : nextIndexes[0] !== undefined ? nextIndexes[0] : -1,\n          previousIndex: multiple ? selectedIndexes : selectedIndexes[0] !== undefined ? selectedIndexes[0] : -1,\n          data: data\n        });\n      }\n\n      if (!controlled) {\n        this.setState({\n          selectedIndexes: nextIndexes\n        });\n      }\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(key) {\n      var columns = this.props.columns;\n\n      if (columns) {\n        var column = columns[key];\n        return typeof column === 'string' ? column : column.header;\n      }\n\n      return key;\n    }\n  }, {\n    key: \"renderItemProps\",\n    value: function renderItemProps(item, keys, row) {\n      var _this2 = this;\n\n      return keys.map(function (key, index) {\n        return _this2.renderItemProp(key, item[key], index, row);\n      });\n    }\n  }, {\n    key: \"renderItemProp\",\n    value: function renderItemProp(key, propValue, index, row) {\n      var _this$props$cellRende = this.props.cellRenderer,\n          cellRenderer = _this$props$cellRende === void 0 ? defaultCellRenderer : _this$props$cellRende;\n      var propKey = this.getHeader(key);\n      return React.createElement(PropContainer, {\n        key: index\n      }, React.createElement(PropName, null, propKey), React.createElement(PropValue, null, cellRenderer({\n        row: row,\n        column: index,\n        key: key,\n        value: propValue,\n        render: defaultCellRenderer\n      })));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _a = this.props,\n          _a$data = _a.data,\n          data = _a$data === void 0 ? [] : _a$data,\n          columns = _a.columns,\n          placeholder = _a.placeholder,\n          theme = _a.theme,\n          _a$cardRenderer = _a.cardRenderer,\n          cardRenderer = _a$cardRenderer === void 0 ? this.renderItem : _a$cardRenderer,\n          _a$bodyRenderer = _a.bodyRenderer,\n          bodyRenderer = _a$bodyRenderer === void 0 ? defaultBodyRenderer : _a$bodyRenderer,\n          openLabel = _a.openLabel,\n          closeLabel = _a.closeLabel,\n          props = __rest(_a, [\"data\", \"columns\", \"placeholder\", \"theme\", \"cardRenderer\", \"bodyRenderer\", \"openLabel\", \"closeLabel\"]);\n\n      var keys = Object.keys(columns || data[0] || {});\n      var rows = data.length === 0 ? placeholder ? [React.createElement(StyledListItem, {\n        theme: theme,\n        key: 0\n      }, React.createElement(PlaceholderContainer, {\n        theme: theme\n      }, placeholder))] : [] : data.map(function (item, index) {\n        return cardRenderer({\n          item: item,\n          index: index,\n          open: hasIndex(_this3.state.selectedIndexes, index),\n          keys: keys,\n          openLabel: openLabel,\n          closeLabel: closeLabel\n        });\n      });\n      return bodyRenderer({\n        rows: rows,\n        mode: 'card',\n        props: Object.assign({\n          theme: theme,\n          borderless: true\n        }, props),\n        table: AccordionTableCardHost\n      });\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var selectedIndex = props.selectedIndex;\n\n      if (state.controlled && selectedIndex !== undefined) {\n        return {\n          selectedIndexes: normalizeIndex(props.selectedIndex)\n        };\n      }\n\n      return state;\n    }\n  }]);\n\n  return AccordionTableCard;\n}(React.Component);\nAccordionTableCard.inner = {\n  get StyledListItem() {\n    return StyledListItem;\n  },\n\n  get AccordionCard() {\n    return AccordionCard;\n  },\n\n  get PropContainer() {\n    return PropContainer;\n  },\n\n  get PropName() {\n    return PropName;\n  },\n\n  get PropValue() {\n    return PropValue;\n  },\n\n  get PlaceholderContainer() {\n    return PlaceholderContainer;\n  }\n\n};","map":{"version":3,"sources":["../../../../src/components/AccordionTable/AccordionTableCard.part.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styled from '../../utils/styled';\nimport { normalizeIndex, toggleIndex, hasIndex } from './helpers/indexHelper';\nimport { AccordionTableProps, AccordionTableCardRendererEvent } from './AccordionTable.types.part';\nimport { defaultCellRenderer } from '../Table/TableShared.part';\nimport { defaultBodyRenderer } from '../Table/TableCard.part';\nimport { AccordionCard } from '../AccordionCard';\nimport { ListItem } from '../ListItem';\nimport { List } from '../List';\nimport { distance } from '../../distance';\nimport { getFontStyle } from '../../textStyles';\nexport interface AccordionTableCardState {\n    /**\n     * Currently selected rows indices.\n     */\n    selectedIndexes: Array<number>;\n    /**\n     * Determines if the accordion table component is controlled from the outside or not.\n     */\n    controlled: boolean;\n}\nconst PropContainer = styled.div `\n  margin-bottom: ${distance.medium};\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\nconst PropName = styled.div `\n  ${getFontStyle({ size: 'xSmall' })}\n`;\nconst PropValue = styled.div `\n  ${getFontStyle({ weight: 'medium' })}\n`;\nconst PlaceholderContainer = styled.div `\n  text-align: center;\n`;\nconst StyledList = styled(List) `\n  overflow: visible;\n`;\nconst StyledListItem = styled(ListItem) `\n  padding: 0;\n  margin-bottom: ${distance.xlarge};\n  border: none;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\ninterface AccordionTableCardHostProps {\n    borderless: boolean;\n}\nconst AccordionTableCardHost = Object.assign(((props => <StyledList {...props}/>) as React.SFC<AccordionTableCardHostProps>), { inner: {\n        get StyledList() { return StyledList as typeof StyledList; }\n    } });\nexport class AccordionTableCard<T> extends React.Component<AccordionTableProps<T>, AccordionTableCardState> {\n    constructor(props: AccordionTableProps<T>) {\n        super(props);\n        this.state = {\n            selectedIndexes: normalizeIndex(props.selectedIndex),\n            controlled: props.selectedIndex !== undefined,\n        };\n    }\n    static getDerivedStateFromProps(props: AccordionTableProps<any>, state: AccordionTableCardState) {\n        const { selectedIndex } = props;\n        if (state.controlled && selectedIndex !== undefined) {\n            return {\n                selectedIndexes: normalizeIndex(props.selectedIndex),\n            };\n        }\n        return state;\n    }\n    private handleClick(target: number, data: T) {\n        const { onChange, multiple } = this.props;\n        const { controlled, selectedIndexes } = this.state;\n        const nextIndexes = toggleIndex(selectedIndexes, target, multiple);\n        if (typeof onChange === 'function') {\n            onChange({\n                selectedIndex: multiple ? nextIndexes : nextIndexes[0] !== undefined ? nextIndexes[0] : -1,\n                previousIndex: multiple ? selectedIndexes : selectedIndexes[0] !== undefined ? selectedIndexes[0] : -1,\n                data,\n            });\n        }\n        if (!controlled) {\n            this.setState({\n                selectedIndexes: nextIndexes,\n            });\n        }\n    }\n    private renderItem = ({ item, index, open, keys, closeLabel, openLabel }: AccordionTableCardRendererEvent<T>) => {\n        const { detailsRenderer, theme } = this.props;\n        return (<StyledListItem theme={theme} key={index}>\n        <AccordionCard openLabel={openLabel} closeLabel={closeLabel} theme={theme} header={this.renderItemProps(item, keys, index)} opened={open} onActionClick={() => this.handleClick(index, item)}>\n          {open && detailsRenderer && detailsRenderer({ data: item, index })}\n        </AccordionCard>\n      </StyledListItem>);\n    };\n    private getHeader(key: string) {\n        const { columns } = this.props;\n        if (columns) {\n            const column = columns[key];\n            return typeof column === 'string' ? column : column.header;\n        }\n        return key;\n    }\n    private renderItemProps(item: T, keys: Array<string>, row: number) {\n        return keys.map((key, index) => this.renderItemProp(key, item[key], index, row));\n    }\n    private renderItemProp(key: string, propValue: any, index: number, row: number) {\n        const { cellRenderer = defaultCellRenderer } = this.props;\n        const propKey = this.getHeader(key);\n        return (<PropContainer key={index}>\n        <PropName>{propKey}</PropName>\n        <PropValue>\n          {cellRenderer({\n            row,\n            column: index,\n            key,\n            value: propValue,\n            render: defaultCellRenderer,\n        })}\n        </PropValue>\n      </PropContainer>);\n    }\n    render() {\n        const { data = [], columns, placeholder, theme, cardRenderer = this.renderItem, bodyRenderer = defaultBodyRenderer, openLabel, closeLabel, ...props } = this.props;\n        const keys = Object.keys(columns || data[0] || {});\n        const rows = data.length === 0\n            ? placeholder\n                ? [\n                    <StyledListItem theme={theme} key={0}>\n                <PlaceholderContainer theme={theme}>{placeholder}</PlaceholderContainer>\n              </StyledListItem>,\n                ]\n                : []\n            : data.map((item, index) => cardRenderer({\n                item,\n                index,\n                open: hasIndex(this.state.selectedIndexes, index),\n                keys,\n                openLabel,\n                closeLabel,\n            }));\n        return bodyRenderer({\n            rows,\n            mode: 'card',\n            props: {\n                theme,\n                borderless: true,\n                ...props,\n            },\n            table: AccordionTableCardHost,\n        });\n    }\n    static inner = {\n        get StyledListItem() { return StyledListItem as typeof StyledListItem; },\n        get AccordionCard() { return AccordionCard as typeof AccordionCard; },\n        get PropContainer() { return PropContainer as typeof PropContainer; },\n        get PropName() { return PropName as typeof PropName; },\n        get PropValue() { return PropValue as typeof PropValue; },\n        get PlaceholderContainer() { return PlaceholderContainer as typeof PlaceholderContainer; }\n    };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _taggedTemplateLiteral from \"/mnt/d/thinkpad_desktop_files/portfolio_web/react-portfolio-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  right: 8px;\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  left: 8px;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  background-color: transparent;\\n  padding: 0;\\n  border: none;\\n  align-self: start;\\n  cursor: pointer;\\n  > i {\\n    vertical-align: middle;\\n  }\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  box-sizing: border-box;\\n  overflow: hidden;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  box-sizing: border-box;\\n  display: flex;\\n  position: relative;\\n  left: \", \"%;\\n  transition: left \", \" \", \";\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  min-width: 100%;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  height: \", \";\\n  width: \", \";\\n  background-color: rgba(224, 225, 221, 1);\\n  border-radius: 50%;\\n  display: inline-block;\\n  cursor: pointer;\\n  margin: \", \";\\n  \", \";\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  background-color: rgba(116, 118, 120, 1);\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  box-sizing: border-box;\\n  display: flex;\\n  justify-content: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  outline: none;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport styled, { css } from '../../utils/styled';\nimport { remCalc } from '../../utils/remCalc';\nimport { InteractiveSurface } from '../InteractiveSurface';\nimport { Icon } from '../Icon';\nimport { distance } from '../../distance';\nimport { getFontStyle } from '../../textStyles';\nvar shiftThreshold = 0.3;\nvar animationDuration = '0.3s';\nvar animationFunction = 'ease-in-out';\nvar RootContainer = styled.div(_templateObject());\nvar DefaultBulletsContainer = styled.div(_templateObject2());\nvar ActiveBullet = css(_templateObject3());\nvar DefaultBullet = styled.div(_templateObject4(), remCalc('12px'), remCalc('12px'), distance.xsmall, function (props) {\n  return props.active ? ActiveBullet : '';\n});\nvar PageItem = styled.div(_templateObject5());\nvar PagesContainer = styled.div(_templateObject6(), function (props) {\n  return -props.selectedIndex * 100;\n}, animationDuration, animationFunction);\nvar Mask = styled.div(_templateObject7());\nvar Arrow = styled.button(_templateObject8(), getFontStyle({\n  size: 'medium'\n}));\nvar ArrowLeft = styled(Arrow)(_templateObject9());\nvar ArrowRight = styled(Arrow)(_templateObject10());\n\nfunction calcNextPage(currentPage, totalPages) {\n  var infinite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var maxIndex = totalPages - 1;\n  var nextPage = currentPage + 1;\n  return infinite && nextPage > maxIndex ? 0 : Math.min(nextPage, maxIndex);\n}\n\nfunction calcPrevPage(currentPage, totalPages) {\n  var infinite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var prevPage = currentPage - 1;\n  var maxIndex = totalPages - 1;\n  return infinite && prevPage < 0 ? maxIndex : Math.max(prevPage, 0);\n}\n\nfunction calcLeftShiftPercent(selectedIndex) {\n  return selectedIndex * -100;\n}\n\nvar defaultAutoPlayTime = 3000;\n/**\n * The Carousel component displays a toggling list of content. Page can be changed using bullet\n * controls or swiping gestures.\n */\n\nexport var Carousel = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Carousel, _React$PureComponent);\n\n  var _super = _createSuper(Carousel);\n\n  function Carousel(props) {\n    var _this;\n\n    _classCallCheck(this, Carousel);\n\n    _this = _super.call(this, props);\n    _this.selects = [];\n\n    _this.resume = function () {\n      if (!_this.autoPlayTimeout) {\n        _this.tryToPlay();\n      }\n    };\n\n    _this.dragTile = function (e) {\n      var _this$state = _this.state,\n          controlled = _this$state.controlled,\n          selectedIndex = _this$state.selectedIndex,\n          dragStatus = _this$state.dragStatus;\n      var shift = dragStatus.start ? e.x - dragStatus.start.x : 0;\n\n      if (controlled) {\n        e.release();\n      }\n\n      if (_this.pagesContainer) {\n        if (e.active) {\n          if (!dragStatus.isDragging) {\n            _this.setState({\n              dragStatus: {\n                isDragging: true,\n                start: {\n                  x: e.x,\n                  y: e.y\n                }\n              }\n            });\n\n            _this.setDragStyle(_this.pagesContainer);\n          }\n\n          _this.pagesContainer.style.left = \"\".concat(calcLeftShiftPercent(selectedIndex) + shift * 100, \"%\");\n        } else {\n          _this.setState({\n            dragStatus: {\n              isDragging: false,\n              start: undefined\n            }\n          });\n\n          _this.resetInitialStyle(_this.pagesContainer);\n\n          _this.checkPageChange(shift);\n        }\n      }\n    };\n\n    _this.swipeLeft = function () {\n      _this.swipe(-1, true);\n    };\n\n    _this.swipeRight = function () {\n      _this.swipe(1, true);\n    };\n\n    _this.swipeRightAuto = function () {\n      _this.swipe(1, false);\n    };\n\n    _this.handleKeyDown = function (e) {\n      var _this$props = _this.props,\n          children = _this$props.children,\n          infinite = _this$props.infinite;\n      var selectedIndex = _this.state.selectedIndex;\n      var childrenCount = React.Children.count(children);\n      var nextIndex = selectedIndex;\n\n      switch (e.keyCode) {\n        case 37\n        /* left */\n        :\n          nextIndex = calcPrevPage(selectedIndex, childrenCount, infinite);\n          break;\n\n        case 39\n        /* right */\n        :\n          nextIndex = calcNextPage(selectedIndex, childrenCount, infinite);\n          break;\n\n        case 35\n        /* end */\n        :\n          nextIndex = childrenCount - 1;\n          break;\n\n        case 36\n        /* home */\n        :\n          nextIndex = 0;\n          break;\n\n        default:\n          return;\n      }\n\n      _this.changePage(nextIndex);\n    };\n\n    _this.state = {\n      selectedIndex: props.selectedIndex || props.defaultIndex || 0,\n      controlled: props.selectedIndex !== undefined,\n      dragStatus: {\n        isDragging: false\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Carousel, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var selectedIndex = nextProps.selectedIndex;\n      var controlled = this.state.controlled;\n\n      if (controlled && typeof selectedIndex === 'number') {\n        this.setState({\n          selectedIndex: selectedIndex\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.tryToPlay();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.stop();\n    }\n  }, {\n    key: \"tryToPlay\",\n    value: function tryToPlay() {\n      this.stop();\n      var autoplay = this.props.autoplay;\n\n      if (autoplay) {\n        this.play(typeof autoplay === 'number' ? autoplay : defaultAutoPlayTime);\n      }\n    }\n  }, {\n    key: \"play\",\n    value: function play(time) {\n      this.autoPlayTimeout = setInterval(this.swipeRightAuto, time);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.autoPlayTimeout = clearInterval(this.autoPlayTimeout);\n    }\n  }, {\n    key: \"changePage\",\n    value: function changePage(target) {\n      var manual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var _this$props2 = this.props,\n          onPageChange = _this$props2.onPageChange,\n          onStop = _this$props2.onStop,\n          children = _this$props2.children;\n      var childrenCount = React.Children.count(children);\n      var _this$state2 = this.state,\n          controlled = _this$state2.controlled,\n          selectedIndex = _this$state2.selectedIndex;\n      var shouldStop = target >= childrenCount || target < 0;\n\n      if (manual || shouldStop) {\n        if (this.autoPlayTimeout) {\n          this.stop();\n\n          if (typeof onStop === 'function') {\n            onStop({\n              reason: manual ? 'manual' : 'ended',\n              resume: this.resume\n            });\n          }\n        }\n      }\n\n      if (!shouldStop) {\n        if (typeof onPageChange === 'function') {\n          onPageChange({\n            previousIndex: selectedIndex,\n            selectedIndex: target\n          });\n        }\n\n        if (!controlled) {\n          this.setState(function () {\n            return {\n              selectedIndex: target\n            };\n          });\n        }\n      }\n    }\n  }, {\n    key: \"checkPageChange\",\n    value: function checkPageChange(shift) {\n      var selectedIndex = this.state.selectedIndex;\n\n      if (shift <= -shiftThreshold) {\n        var nextIndex = calcNextPage(selectedIndex, React.Children.count(this.props.children), this.props.infinite);\n        this.changePage(nextIndex);\n      } else if (shift >= shiftThreshold) {\n        var prevIndex = calcPrevPage(selectedIndex, React.Children.count(this.props.children), this.props.infinite);\n        this.changePage(prevIndex);\n      }\n    }\n  }, {\n    key: \"setDragStyle\",\n    value: function setDragStyle(node) {\n      var style = node.style;\n      style.transitionProperty = 'unset';\n      style.transitionDuration = 'unset';\n      style.transitionTimingFunction = 'unset';\n    }\n  }, {\n    key: \"resetInitialStyle\",\n    value: function resetInitialStyle(node) {\n      var style = node.style; // tslint:disable-next-line\n\n      style.left = null;\n      style.transitionProperty = 'left';\n      style.transitionDuration = animationDuration;\n      style.transitionTimingFunction = animationFunction;\n    }\n  }, {\n    key: \"swipe\",\n    value: function swipe(direction, manual) {\n      var selectedIndex = this.state.selectedIndex;\n      var _this$props3 = this.props,\n          children = _this$props3.children,\n          infinite = _this$props3.infinite;\n      var childrenCount = React.Children.count(children);\n      var nextIndex = selectedIndex;\n\n      if (direction === 1) {\n        nextIndex = calcNextPage(selectedIndex, childrenCount, infinite);\n      } else if (direction === -1) {\n        nextIndex = calcPrevPage(selectedIndex, childrenCount, infinite);\n      }\n\n      this.changePage(nextIndex, manual);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var selectedIndex = this.state.selectedIndex;\n\n      var _a = this.props,\n          children = _a.children,\n          theme = _a.theme,\n          _0 = _a.selectedIndex,\n          _1 = _a.defaultIndex,\n          _2 = _a.onPageChange,\n          CustomBulletsContainer = _a.bulletsContainer,\n          CustomBullet = _a.bullet,\n          _a$arrows = _a.arrows,\n          arrows = _a$arrows === void 0 ? false : _a$arrows,\n          _a$infinite = _a.infinite,\n          infinite = _a$infinite === void 0 ? false : _a$infinite,\n          _a$opaque = _a.opaque,\n          opaque = _a$opaque === void 0 ? false : _a$opaque,\n          props = __rest(_a, [\"children\", \"theme\", \"selectedIndex\", \"defaultIndex\", \"onPageChange\", \"bulletsContainer\", \"bullet\", \"arrows\", \"infinite\", \"opaque\"]);\n\n      var childrenCount = React.Children.count(children);\n      var bullets = [];\n      var items = [];\n      var selects = this.selects;\n      var BulletsContainer = CustomBulletsContainer || DefaultBulletsContainer;\n      var Bullet = CustomBullet || DefaultBullet;\n      React.Children.forEach(children, function (element, index) {\n        if (element && React.isValidElement(element)) {\n          var active = index === selectedIndex;\n\n          if (selects[index] === undefined) {\n            selects[index] = function () {\n              return _this2.changePage(index);\n            };\n          }\n\n          bullets.push(React.createElement(Bullet, {\n            theme: theme,\n            key: \"bullet-\".concat(index),\n            active: active,\n            index: index,\n            onClick: selects[index]\n          }));\n          items.push(React.createElement(PageItem, {\n            key: \"item-\".concat(index)\n          }, element));\n        }\n      });\n      var disableLeft = !infinite && selectedIndex < 1;\n      var disableRight = !infinite && selectedIndex > childrenCount - 2;\n      return React.createElement(RootContainer, Object.assign({}, props, {\n        onKeyDown: this.handleKeyDown,\n        tabIndex: 0\n      }), React.createElement(Mask, null, React.createElement(InteractiveSurface, {\n        theme: theme,\n        onChange: this.dragTile,\n        opaque: opaque\n      }, React.createElement(PagesContainer, {\n        ref: function ref(node) {\n          return _this2.pagesContainer = node;\n        },\n        selectedIndex: selectedIndex\n      }, items)), arrows && React.createElement(\"div\", null, React.createElement(ArrowLeft, {\n        onClick: this.swipeLeft,\n        disabled: disableLeft,\n        type: \"button\"\n      }, React.createElement(Icon, {\n        name: \"KeyboardArrowLeft\",\n        size: 2\n      })), React.createElement(ArrowRight, {\n        onClick: this.swipeRight,\n        disabled: disableRight,\n        type: \"button\"\n      }, React.createElement(Icon, {\n        name: \"KeyboardArrowRight\",\n        size: 2\n      })))), React.createElement(BulletsContainer, null, bullets));\n    }\n  }]);\n\n  return Carousel;\n}(React.PureComponent);\nCarousel.inner = {\n  get PageItem() {\n    return PageItem;\n  },\n\n  get RootContainer() {\n    return RootContainer;\n  },\n\n  get Mask() {\n    return Mask;\n  },\n\n  get InteractiveSurface() {\n    return InteractiveSurface;\n  },\n\n  get PagesContainer() {\n    return PagesContainer;\n  },\n\n  get ArrowLeft() {\n    return ArrowLeft;\n  },\n\n  get Icon() {\n    return Icon;\n  },\n\n  get ArrowRight() {\n    return ArrowRight;\n  }\n\n};","map":{"version":3,"sources":["../../../../src/components/Carousel/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styled, { css } from '../../utils/styled';\nimport { KeyCodes } from '../../utils/keyCodes';\nimport { remCalc } from '../../utils/remCalc';\nimport { InteractiveSurface, InteractiveSurfaceChangeEvent, InteractiveSurfaceProps } from '../InteractiveSurface';\nimport { Icon } from '../Icon';\nimport { StandardProps } from '../../common';\nimport { distance } from '../../distance';\nimport { getFontStyle } from '../../textStyles';\nexport interface CarouselChangeEvent {\n    /**\n     * The previously selected page index.\n     */\n    previousIndex: number;\n    /**\n     * The currently selected page index.\n     */\n    selectedIndex: number;\n}\nexport interface CarouselStopEvent {\n    /**\n     * The reason for stopping the autoplay mode.\n     */\n    reason: 'ended' | 'manual';\n    /**\n     * Resumes execution of the autoplay mode.\n     */\n    resume(): void;\n}\nexport interface CarouselProps extends StandardProps {\n    /**\n     * The default page index - only set for use in automatic mode.\n     */\n    defaultIndex?: number;\n    /**\n     * The currently selected page index - used in the controlled mode.\n     */\n    selectedIndex?: number;\n    /**\n     * Notification callback if the selected page index should change.\n     */\n    onPageChange?(e: CarouselChangeEvent): void;\n    /**\n     * The children, usually passed as a collection of elements.\n     */\n    children?: React.ReactNode;\n    /**\n     * Overrides the default container for bullets.\n     */\n    bulletsContainer?: React.ComponentType;\n    /**\n     * Overrides the default bullet point component.\n     */\n    bullet?: React.ComponentType<BulletProps>;\n    /**\n     * Displays the previous / next arrow. By default disabled.\n     * @default false\n     */\n    arrows?: boolean;\n    /**\n     * Event emitted once the Carousel autoplay stops.\n     */\n    onStop?(e: CarouselStopEvent): void;\n    /**\n     * Activate the autoplay mode, potentially with the time per slide\n     * in milliseconds. By default 3000.\n     * @default false\n     */\n    autoplay?: boolean | number;\n    /**\n     * Whether the Carousel can loop without stopping.\n     * @default false\n     */\n    infinite?: boolean;\n    /**\n     * Whether the Carousel can stop propagation so that links can be clicked\n     * @default false\n     */\n    opaque?: InteractiveSurfaceProps['opaque'];\n}\nexport interface DragStatus {\n    isDragging: boolean;\n    start?: Point;\n}\nexport interface Point {\n    x: number;\n    y: number;\n}\nexport interface CarouselState {\n    /**\n     * The currently selected page index.\n     */\n    selectedIndex: number;\n    /**\n     * Determines if the tab component is controlled from the outside or not.\n     */\n    controlled: boolean;\n    /**\n     * Status of the current swipe move.\n     */\n    dragStatus: DragStatus;\n}\nconst shiftThreshold = 0.3;\nconst animationDuration = '0.3s';\nconst animationFunction = 'ease-in-out';\nconst RootContainer = styled.div `\n  outline: none;\n`;\nconst DefaultBulletsContainer = styled.div `\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n`;\nexport interface BulletProps extends StandardProps {\n    /**\n     * Determines if the bullet is active or not.\n     */\n    active: boolean;\n    /**\n     * Fired once the bullet has been clicked.\n     */\n    onClick(): void;\n    /**\n     * Sets the bullet's index.\n     */\n    index: number;\n}\nconst ActiveBullet = css `\n  background-color: rgba(116, 118, 120, 1);\n`;\nconst DefaultBullet = styled.div<BulletProps> `\n  height: ${remCalc('12px')};\n  width: ${remCalc('12px')};\n  background-color: rgba(224, 225, 221, 1);\n  border-radius: 50%;\n  display: inline-block;\n  cursor: pointer;\n  margin: ${distance.xsmall};\n  ${props => (props.active ? ActiveBullet : '')};\n`;\nconst PageItem = styled.div `\n  min-width: 100%;\n`;\ninterface PagesContainerProps extends StandardProps {\n    selectedIndex: number;\n}\nconst PagesContainer = styled.div<PagesContainerProps> `\n  box-sizing: border-box;\n  display: flex;\n  position: relative;\n  left: ${props => -props.selectedIndex * 100}%;\n  transition: left ${animationDuration} ${animationFunction};\n`;\nconst Mask = styled.div `\n  position: relative;\n  box-sizing: border-box;\n  overflow: hidden;\n`;\nconst Arrow = styled.button `\n  ${getFontStyle({ size: 'medium' })}\n\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: transparent;\n  padding: 0;\n  border: none;\n  align-self: start;\n  cursor: pointer;\n  > i {\n    vertical-align: middle;\n  }\n`;\nconst ArrowLeft = styled(Arrow) `\n  left: 8px;\n`;\nconst ArrowRight = styled(Arrow) `\n  right: 8px;\n`;\nfunction calcNextPage(currentPage: number, totalPages: number, infinite: boolean = false) {\n    const maxIndex = totalPages - 1;\n    const nextPage = currentPage + 1;\n    return infinite && nextPage > maxIndex ? 0 : Math.min(nextPage, maxIndex);\n}\nfunction calcPrevPage(currentPage: number, totalPages: number, infinite: boolean = false) {\n    const prevPage = currentPage - 1;\n    const maxIndex = totalPages - 1;\n    return infinite && prevPage < 0 ? maxIndex : Math.max(prevPage, 0);\n}\nfunction calcLeftShiftPercent(selectedIndex: number) {\n    return selectedIndex * -100;\n}\nconst defaultAutoPlayTime = 3000;\n/**\n * The Carousel component displays a toggling list of content. Page can be changed using bullet\n * controls or swiping gestures.\n */\nexport class Carousel extends React.PureComponent<CarouselProps, CarouselState> {\n    private selects: Array<() => void> = [];\n    private pagesContainer: HTMLDivElement | null;\n    private autoPlayTimeout: any;\n    constructor(props: CarouselProps) {\n        super(props);\n        this.state = {\n            selectedIndex: props.selectedIndex || props.defaultIndex || 0,\n            controlled: props.selectedIndex !== undefined,\n            dragStatus: { isDragging: false },\n        };\n    }\n    UNSAFE_componentWillReceiveProps(nextProps: CarouselProps) {\n        const { selectedIndex } = nextProps;\n        const { controlled } = this.state;\n        if (controlled && typeof selectedIndex === 'number') {\n            this.setState({\n                selectedIndex,\n            });\n        }\n    }\n    componentDidMount() {\n        this.tryToPlay();\n    }\n    componentWillUnmount() {\n        this.stop();\n    }\n    private tryToPlay() {\n        this.stop();\n        const { autoplay } = this.props;\n        if (autoplay) {\n            this.play(typeof autoplay === 'number' ? autoplay : defaultAutoPlayTime);\n        }\n    }\n    private play(time: number) {\n        this.autoPlayTimeout = setInterval(this.swipeRightAuto, time);\n    }\n    private stop() {\n        this.autoPlayTimeout = clearInterval(this.autoPlayTimeout);\n    }\n    private resume = () => {\n        if (!this.autoPlayTimeout) {\n            this.tryToPlay();\n        }\n    };\n    private changePage(target: number, manual = true) {\n        const { onPageChange, onStop, children } = this.props;\n        const childrenCount = React.Children.count(children);\n        const { controlled, selectedIndex } = this.state;\n        const shouldStop = target >= childrenCount || target < 0;\n        if (manual || shouldStop) {\n            if (this.autoPlayTimeout) {\n                this.stop();\n                if (typeof onStop === 'function') {\n                    onStop({\n                        reason: manual ? 'manual' : 'ended',\n                        resume: this.resume,\n                    });\n                }\n            }\n        }\n        if (!shouldStop) {\n            if (typeof onPageChange === 'function') {\n                onPageChange({\n                    previousIndex: selectedIndex,\n                    selectedIndex: target,\n                });\n            }\n            if (!controlled) {\n                this.setState(() => ({\n                    selectedIndex: target,\n                }));\n            }\n        }\n    }\n    private dragTile = (e: InteractiveSurfaceChangeEvent) => {\n        const { controlled, selectedIndex, dragStatus } = this.state;\n        const shift = dragStatus.start ? e.x - dragStatus.start.x : 0;\n        if (controlled) {\n            e.release();\n        }\n        if (this.pagesContainer) {\n            if (e.active) {\n                if (!dragStatus.isDragging) {\n                    this.setState({ dragStatus: { isDragging: true, start: { x: e.x, y: e.y } } });\n                    this.setDragStyle(this.pagesContainer);\n                }\n                this.pagesContainer.style.left = `${calcLeftShiftPercent(selectedIndex) + shift * 100}%`;\n            }\n            else {\n                this.setState({ dragStatus: { isDragging: false, start: undefined } });\n                this.resetInitialStyle(this.pagesContainer);\n                this.checkPageChange(shift);\n            }\n        }\n    };\n    private checkPageChange(shift: number) {\n        const { selectedIndex } = this.state;\n        if (shift <= -shiftThreshold) {\n            const nextIndex = calcNextPage(selectedIndex, React.Children.count(this.props.children), this.props.infinite);\n            this.changePage(nextIndex);\n        }\n        else if (shift >= shiftThreshold) {\n            const prevIndex = calcPrevPage(selectedIndex, React.Children.count(this.props.children), this.props.infinite);\n            this.changePage(prevIndex);\n        }\n    }\n    private setDragStyle(node: HTMLElement) {\n        const style = node.style;\n        style.transitionProperty = 'unset';\n        style.transitionDuration = 'unset';\n        style.transitionTimingFunction = 'unset';\n    }\n    private resetInitialStyle(node: HTMLElement) {\n        const style = node.style;\n        // tslint:disable-next-line\n        style.left = null;\n        style.transitionProperty = 'left';\n        style.transitionDuration = animationDuration;\n        style.transitionTimingFunction = animationFunction;\n    }\n    private swipe(direction: number, manual: boolean) {\n        const { selectedIndex } = this.state;\n        const { children, infinite } = this.props;\n        const childrenCount = React.Children.count(children);\n        let nextIndex = selectedIndex;\n        if (direction === 1) {\n            nextIndex = calcNextPage(selectedIndex, childrenCount, infinite);\n        }\n        else if (direction === -1) {\n            nextIndex = calcPrevPage(selectedIndex, childrenCount, infinite);\n        }\n        this.changePage(nextIndex, manual);\n    }\n    private swipeLeft = () => {\n        this.swipe(-1, true);\n    };\n    private swipeRight = () => {\n        this.swipe(1, true);\n    };\n    private swipeRightAuto = () => {\n        this.swipe(1, false);\n    };\n    private handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n        const { children, infinite } = this.props;\n        const { selectedIndex } = this.state;\n        const childrenCount = React.Children.count(children);\n        let nextIndex = selectedIndex;\n        switch (e.keyCode) {\n            case KeyCodes.left:\n                nextIndex = calcPrevPage(selectedIndex, childrenCount, infinite);\n                break;\n            case KeyCodes.right:\n                nextIndex = calcNextPage(selectedIndex, childrenCount, infinite);\n                break;\n            case KeyCodes.end:\n                nextIndex = childrenCount - 1;\n                break;\n            case KeyCodes.home:\n                nextIndex = 0;\n                break;\n            default:\n                return;\n        }\n        this.changePage(nextIndex);\n    };\n    render() {\n        const { selectedIndex } = this.state;\n        const { children, theme, selectedIndex: _0, defaultIndex: _1, onPageChange: _2, bulletsContainer: CustomBulletsContainer, bullet: CustomBullet, arrows = false, infinite = false, opaque = false, ...props } = this.props;\n        const childrenCount = React.Children.count(children);\n        const bullets: Array<React.ReactChild> = [];\n        const items: Array<React.ReactChild> = [];\n        const selects = this.selects;\n        const BulletsContainer = CustomBulletsContainer || DefaultBulletsContainer;\n        const Bullet = CustomBullet || DefaultBullet;\n        React.Children.forEach(children, (element, index) => {\n            if (element && React.isValidElement(element)) {\n                const active = index === selectedIndex;\n                if (selects[index] === undefined) {\n                    selects[index] = () => this.changePage(index);\n                }\n                bullets.push(<Bullet theme={theme} key={`bullet-${index}`} active={active} index={index} onClick={selects[index]}/>);\n                items.push(<PageItem key={`item-${index}`}>{element}</PageItem>);\n            }\n        });\n        const disableLeft = !infinite && selectedIndex < 1;\n        const disableRight = !infinite && selectedIndex > childrenCount - 2;\n        return (<RootContainer {...props} onKeyDown={this.handleKeyDown} tabIndex={0}>\n        <Mask>\n          <InteractiveSurface theme={theme} onChange={this.dragTile} opaque={opaque}>\n            <PagesContainer ref={node => (this.pagesContainer = node)} selectedIndex={selectedIndex}>\n              {items}\n            </PagesContainer>\n          </InteractiveSurface>\n          {arrows && (<div>\n              <ArrowLeft onClick={this.swipeLeft} disabled={disableLeft} type=\"button\">\n                <Icon name=\"KeyboardArrowLeft\" size={2}/>\n              </ArrowLeft>\n              <ArrowRight onClick={this.swipeRight} disabled={disableRight} type=\"button\">\n                <Icon name=\"KeyboardArrowRight\" size={2}/>\n              </ArrowRight>\n            </div>)}\n        </Mask>\n        <BulletsContainer>{bullets}</BulletsContainer>\n      </RootContainer>);\n    }\n    static inner = {\n        get PageItem() { return PageItem as typeof PageItem; },\n        get RootContainer() { return RootContainer as typeof RootContainer; },\n        get Mask() { return Mask as typeof Mask; },\n        get InteractiveSurface() { return InteractiveSurface as typeof InteractiveSurface; },\n        get PagesContainer() { return PagesContainer as typeof PagesContainer; },\n        get ArrowLeft() { return ArrowLeft as typeof ArrowLeft; },\n        get Icon() { return Icon as typeof Icon; },\n        get ArrowRight() { return ArrowRight as typeof ArrowRight; }\n    };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
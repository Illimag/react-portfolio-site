{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  return t;\n};\n\nimport * as React from 'react';\nimport { SidebarPopup } from './SidebarPopup.part';\nimport { SidebarActivatorContainer } from './SidebarActivatorContainer.part';\nexport class Sidebar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.show = () => {\n      if (!this.controlled) {\n        this.setState({\n          open: true\n        });\n      }\n\n      typeof this.props.onShow === 'function' && this.props.onShow();\n    };\n\n    this.hide = () => {\n      if (!this.controlled) {\n        this.setState({\n          open: false\n        });\n      }\n\n      typeof this.props.onClose === 'function' && this.props.onClose();\n    };\n\n    this.onKeyPress = e => {\n      if (e.keyCode === 27\n      /* escape */\n      ) {\n          this.hide();\n        }\n    };\n\n    const {\n      open\n    } = this.props;\n    this.controlled = open !== undefined;\n    this.state = {\n      open: open !== undefined ? open : false\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {\n    if (this.controlled) {\n      this.setState({\n        open: Boolean(props.open)\n      });\n    }\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyPress);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyPress);\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      onShow: _0,\n      activator,\n      size = '275px'\n    } = _a,\n          props = __rest(_a, [\"onShow\", \"activator\", \"size\"]);\n\n    const {\n      open\n    } = this.state;\n    return React.createElement(React.Fragment, null, React.createElement(SidebarActivatorContainer, {\n      onClick: this.show\n    }, activator), React.createElement(SidebarPopup, Object.assign({}, props, {\n      open: open,\n      onClose: this.hide,\n      size: size\n    })));\n  }\n\n}\nSidebar.inner = {\n  get SidebarActivatorContainer() {\n    return SidebarActivatorContainer;\n  },\n\n  get SidebarPopup() {\n    return SidebarPopup;\n  }\n\n};","map":{"version":3,"sources":["../../../../src/components/Sidebar/index.tsx"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AAEA,SAAS,YAAT,QAA6B,qBAA7B;AACA,SAAS,yBAAT,QAA0C,kCAA1C;AAiCA,OAAM,MAAO,OAAP,SAAuB,KAAK,CAAC,SAA7B,CAAkE;AAEpE,EAAA,WAAA,CAAY,KAAZ,EAA+B;AAC3B,UAAM,KAAN;;AAkBI,SAAA,IAAA,GAAO,MAAK;AAChB,UAAI,CAAC,KAAK,UAAV,EAAsB;AAClB,aAAK,QAAL,CAAc;AAAE,UAAA,IAAI,EAAE;AAAR,SAAd;AACH;;AACD,aAAO,KAAK,KAAL,CAAW,MAAlB,KAA6B,UAA7B,IAA2C,KAAK,KAAL,CAAW,MAAX,EAA3C;AACH,KALO;;AAMA,SAAA,IAAA,GAAO,MAAK;AAChB,UAAI,CAAC,KAAK,UAAV,EAAsB;AAClB,aAAK,QAAL,CAAc;AAAE,UAAA,IAAI,EAAE;AAAR,SAAd;AACH;;AACD,aAAO,KAAK,KAAL,CAAW,OAAlB,KAA8B,UAA9B,IAA4C,KAAK,KAAL,CAAW,OAAX,EAA5C;AACH,KALO;;AAMA,SAAA,UAAA,GAAc,CAAD,IAAqB;AACtC,UAAI,CAAC,CAAC,OAAF,KAAS;AAAA;AAAb,QAAmC;AAC/B,eAAK,IAAL;AACH;AACJ,KAJO;;AA7BJ,UAAM;AAAE,MAAA;AAAF,QAAW,KAAK,KAAtB;AACA,SAAK,UAAL,GAAkB,IAAI,KAAK,SAA3B;AACA,SAAK,KAAL,GAAa;AACT,MAAA,IAAI,EAAE,IAAI,KAAK,SAAT,GAAqB,IAArB,GAA4B;AADzB,KAAb;AAGH;;AACD,EAAA,gCAAgC,CAAC,KAAD,EAAoB;AAChD,QAAI,KAAK,UAAT,EAAqB;AACjB,WAAK,QAAL,CAAc;AAAE,QAAA,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC,IAAP;AAAf,OAAd;AACH;AACJ;;AACD,EAAA,iBAAiB,GAAA;AACb,IAAA,QAAQ,CAAC,gBAAT,CAA0B,SAA1B,EAAqC,KAAK,UAA1C;AACH;;AACD,EAAA,oBAAoB,GAAA;AAChB,IAAA,QAAQ,CAAC,mBAAT,CAA6B,SAA7B,EAAwC,KAAK,UAA7C;AACH;;AAkBD,EAAA,MAAM,GAAA;AACF,UAAM,EAAA,GAAA,KAAA,KAAN;AAAA,UAAM;AAAE,MAAA,MAAM,EAAE,EAAV;AAAc,MAAA,SAAd;AAAyB,MAAA,IAAI,GAAG;AAAhC,QAAuC,EAA7C;AAAA,UAA+C,KAAA,GAAA,MAAA,CAAA,EAAA,EAAA,CAAA,QAAA,EAAA,WAAA,EAAA,MAAA,CAAA,CAA/C;;AACA,UAAM;AAAE,MAAA;AAAF,QAAW,KAAK,KAAtB;AACA,WAAQ,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EACR,KAAA,CAAA,aAAA,CAAC,yBAAD,EAA0B;AAAC,MAAA,OAAO,EAAE,KAAK;AAAf,KAA1B,EAAgD,SAAhD,CADQ,EAER,KAAA,CAAA,aAAA,CAAC,YAAD,EAAa,MAAA,CAAA,MAAA,CAAA,EAAA,EAAK,KAAL,EAAU;AAAE,MAAA,IAAI,EAAE,IAAR;AAAc,MAAA,OAAO,EAAE,KAAK,IAA5B;AAAkC,MAAA,IAAI,EAAE;AAAxC,KAAV,CAAb,CAFQ,CAAR;AAIH;;AA7CmE;AA8C7D,OAAA,CAAA,KAAA,GAAQ;AACX,MAAI,yBAAJ,GAA6B;AAAK,WAAO,yBAAP;AAAuE,GAD9F;;AAEX,MAAI,YAAJ,GAAgB;AAAK,WAAO,YAAP;AAA6C;;AAFvD,CAAR","sourcesContent":["import * as React from 'react';\nimport { KeyCodes } from '../../utils/keyCodes';\nimport { SidebarPopup } from './SidebarPopup.part';\nimport { SidebarActivatorContainer } from './SidebarActivatorContainer.part';\ntype PositionType = 'top' | 'left' | 'bottom' | 'right';\nexport interface SidebarProps {\n    /**\n     * Element which triggers sidebar showing by click.\n     */\n    activator: React.ReactChild;\n    /**\n     * Determines where to show a sidebar. Valid positions are: left, right, top, bottom.\n     * @default right\n     */\n    position?: PositionType;\n    /**\n     * Size in valid css units.\n     * @default 275px\n     */\n    size?: string;\n    /**\n     * Determines if sidebar is opened or closed. Puts sidebar in controlled mode.\n     */\n    open?: boolean;\n    /**\n     * Fires this event after trigger element was clicked.\n     */\n    onShow?(): void;\n    /**\n     * Fires this event when sidebar should be closed.\n     */\n    onClose?(): void;\n}\ninterface SidebarState {\n    open: boolean;\n}\nexport class Sidebar extends React.Component<SidebarProps, SidebarState> {\n    private controlled: boolean;\n    constructor(props: SidebarProps) {\n        super(props);\n        const { open } = this.props;\n        this.controlled = open !== undefined;\n        this.state = {\n            open: open !== undefined ? open : false,\n        };\n    }\n    UNSAFE_componentWillReceiveProps(props: SidebarProps) {\n        if (this.controlled) {\n            this.setState({ open: Boolean(props.open) });\n        }\n    }\n    componentDidMount() {\n        document.addEventListener('keydown', this.onKeyPress);\n    }\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.onKeyPress);\n    }\n    private show = () => {\n        if (!this.controlled) {\n            this.setState({ open: true });\n        }\n        typeof this.props.onShow === 'function' && this.props.onShow();\n    };\n    private hide = () => {\n        if (!this.controlled) {\n            this.setState({ open: false });\n        }\n        typeof this.props.onClose === 'function' && this.props.onClose();\n    };\n    private onKeyPress = (e: KeyboardEvent) => {\n        if (e.keyCode === KeyCodes.escape) {\n            this.hide();\n        }\n    };\n    render() {\n        const { onShow: _0, activator, size = '275px', ...props } = this.props;\n        const { open } = this.state;\n        return (<>\n        <SidebarActivatorContainer onClick={this.show}>{activator}</SidebarActivatorContainer>\n        <SidebarPopup {...props} open={open} onClose={this.hide} size={size}/>\n      </>);\n    }\n    static inner = {\n        get SidebarActivatorContainer() { return SidebarActivatorContainer as typeof SidebarActivatorContainer; },\n        get SidebarPopup() { return SidebarPopup as typeof SidebarPopup; }\n    };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
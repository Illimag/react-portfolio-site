"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)
            t[p[i]] = s[p[i]];
    return t;
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var DropdownPanel_part_1 = require("./DropdownPanel.part");
/**
 * Represents the mobile layout used for a tab control.
 */
exports.DropdownPanel = Object.assign((function (_a) {
    var theme = _a.theme, data = _a.data, children = _a.children, props = __rest(_a, ["theme", "data", "children"]);
    var pages = [];
    var slideDownTabHeaders = [];
    var selectedIndex = -1;
    data.forEach(function (item, index) {
        var element = item.element;
        if (element && React.isValidElement(element)) {
            var header = element.props.header;
            var active = item.active;
            if (active) {
                selectedIndex = index;
            }
            pages.push(React.createElement(DropdownPanel_part_1.TabItem, { theme: theme, key: "item-" + index, active: active }, element));
            slideDownTabHeaders.push({
                key: "" + index,
                content: header,
                type: 'item',
            });
        }
    });
    return (React.createElement(DropdownPanel_part_1.DropdownContainer, __assign({ theme: theme }, props),
        React.createElement(DropdownPanel_part_1.SlideDownTabs, { data: slideDownTabHeaders, selectedIndex: selectedIndex, onChange: function (index) {
                var item = data[index];
                item && item.onSelect();
            } }),
        React.createElement(DropdownPanel_part_1.TabContent, { theme: theme }, pages)));
}), { inner: {
        get TabItem() { return DropdownPanel_part_1.TabItem; },
        get DropdownContainer() { return DropdownPanel_part_1.DropdownContainer; },
        get SlideDownTabs() { return DropdownPanel_part_1.SlideDownTabs; },
        get TabContent() { return DropdownPanel_part_1.TabContent; }
    } });
exports.DropdownPanel.displayName = 'DropdownPanel';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9Ecm9wZG93blBhbmVsL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkJBQStCO0FBSS9CLDJEQUE0RztBQVc1Rzs7R0FFRztBQUNVLFFBQUEsYUFBYSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUUsQ0FBQyxVQUFDLEVBQW1DO0lBQWpDLElBQUEsZ0JBQUssRUFBRSxjQUFJLEVBQUUsc0JBQVEsRUFBRSxpREFBUTtJQUMzRSxJQUFNLEtBQUssR0FBNEIsRUFBRSxDQUFDO0lBQzFDLElBQU0sbUJBQW1CLEdBQXlCLEVBQUUsQ0FBQztJQUNyRCxJQUFJLGFBQWEsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN2QixJQUFJLENBQUMsT0FBTyxDQUFDLFVBQUMsSUFBSSxFQUFFLEtBQUs7UUFDckIsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQTJDLENBQUM7UUFDakUsSUFBSSxPQUFPLElBQUksS0FBSyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUNsQyxJQUFBLDZCQUFNLENBQW1CO1lBQ2pDLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDM0IsSUFBSSxNQUFNLEVBQUU7Z0JBQ1IsYUFBYSxHQUFHLEtBQUssQ0FBQzthQUN6QjtZQUNELEtBQUssQ0FBQyxJQUFJLENBQUMsb0JBQUMsNEJBQU8sSUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxVQUFRLEtBQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxJQUN2RSxPQUFPLENBQ0EsQ0FBQyxDQUFDO1lBQ1IsbUJBQW1CLENBQUMsSUFBSSxDQUFDO2dCQUNyQixHQUFHLEVBQUUsS0FBRyxLQUFPO2dCQUNmLE9BQU8sRUFBRSxNQUFNO2dCQUNmLElBQUksRUFBRSxNQUFNO2FBQ2YsQ0FBQyxDQUFDO1NBQ047SUFDTCxDQUFDLENBQUMsQ0FBQztJQUNILE9BQU8sQ0FBQyxvQkFBQyxzQ0FBaUIsYUFBQyxLQUFLLEVBQUUsS0FBSyxJQUFNLEtBQUs7UUFDaEQsb0JBQUMsa0NBQWEsSUFBQyxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUUsVUFBQSxLQUFLO2dCQUNyRixJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3pCLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDNUIsQ0FBQyxHQUFHO1FBQ0Ysb0JBQUMsK0JBQVUsSUFBQyxLQUFLLEVBQUUsS0FBSyxJQUFHLEtBQUssQ0FBYyxDQUM1QixDQUFDLENBQUM7QUFDMUIsQ0FBQyxDQUFtQyxFQUFFLEVBQUUsS0FBSyxFQUFFO1FBQ3ZDLElBQUksT0FBTyxLQUFLLE9BQU8sNEJBQXlCLENBQUMsQ0FBQyxDQUFDO1FBQ25ELElBQUksaUJBQWlCLEtBQUssT0FBTyxzQ0FBNkMsQ0FBQyxDQUFDLENBQUM7UUFDakYsSUFBSSxhQUFhLEtBQUssT0FBTyxrQ0FBcUMsQ0FBQyxDQUFDLENBQUM7UUFDckUsSUFBSSxVQUFVLEtBQUssT0FBTywrQkFBK0IsQ0FBQyxDQUFDLENBQUM7S0FDL0QsRUFBRSxDQUFDLENBQUM7QUFDVCxxQkFBYSxDQUFDLFdBQVcsR0FBRyxlQUFlLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTdGFuZGFyZFByb3BzIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IFRhYkNvbnRyb2xJdGVtIH0gZnJvbSAnLi4vVGFiQ29udHJvbCc7XG5pbXBvcnQgeyBUYWJQYWdlUHJvcHMgfSBmcm9tICcuLi9UYWJQYWdlJztcbmltcG9ydCB7IERyb3Bkb3duQ29udGFpbmVyLCBUYWJIZWFkZXJJdGVtLCBTbGlkZURvd25UYWJzLCBUYWJJdGVtLCBUYWJDb250ZW50IH0gZnJvbSAnLi9Ecm9wZG93blBhbmVsLnBhcnQnO1xuZXhwb3J0IGludGVyZmFjZSBEcm9wZG93blBhbmVsUHJvcHMgZXh0ZW5kcyBTdGFuZGFyZFByb3BzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdGFiIGl0ZW1zIHRoYXQgc2hvdWxkIGJlIHNob3duLlxuICAgICAqL1xuICAgIGRhdGE6IEFycmF5PFRhYkNvbnRyb2xJdGVtPjtcbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgY2hpbGRyZW4/OiB2b2lkO1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBtb2JpbGUgbGF5b3V0IHVzZWQgZm9yIGEgdGFiIGNvbnRyb2wuXG4gKi9cbmV4cG9ydCBjb25zdCBEcm9wZG93blBhbmVsID0gT2JqZWN0LmFzc2lnbigoKCh7IHRoZW1lLCBkYXRhLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4ge1xuICAgIGNvbnN0IHBhZ2VzOiBBcnJheTxSZWFjdC5SZWFjdENoaWxkPiA9IFtdO1xuICAgIGNvbnN0IHNsaWRlRG93blRhYkhlYWRlcnM6IEFycmF5PFRhYkhlYWRlckl0ZW0+ID0gW107XG4gICAgbGV0IHNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICBkYXRhLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBpdGVtLmVsZW1lbnQgYXMgUmVhY3QuUmVhY3RFbGVtZW50PFRhYlBhZ2VQcm9wcz47XG4gICAgICAgIGlmIChlbGVtZW50ICYmIFJlYWN0LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBjb25zdCB7IGhlYWRlciB9ID0gZWxlbWVudC5wcm9wcztcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZSA9IGl0ZW0uYWN0aXZlO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhZ2VzLnB1c2goPFRhYkl0ZW0gdGhlbWU9e3RoZW1lfSBrZXk9e2BpdGVtLSR7aW5kZXh9YH0gYWN0aXZlPXthY3RpdmV9PlxuICAgICAgICAgIHtlbGVtZW50fVxuICAgICAgICA8L1RhYkl0ZW0+KTtcbiAgICAgICAgICAgIHNsaWRlRG93blRhYkhlYWRlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiBgJHtpbmRleH1gLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGhlYWRlcixcbiAgICAgICAgICAgICAgICB0eXBlOiAnaXRlbScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoPERyb3Bkb3duQ29udGFpbmVyIHRoZW1lPXt0aGVtZX0gey4uLnByb3BzfT5cbiAgICAgIDxTbGlkZURvd25UYWJzIGRhdGE9e3NsaWRlRG93blRhYkhlYWRlcnN9IHNlbGVjdGVkSW5kZXg9e3NlbGVjdGVkSW5kZXh9IG9uQ2hhbmdlPXtpbmRleCA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhW2luZGV4XTtcbiAgICAgICAgaXRlbSAmJiBpdGVtLm9uU2VsZWN0KCk7XG4gICAgfX0vPlxuICAgICAgPFRhYkNvbnRlbnQgdGhlbWU9e3RoZW1lfT57cGFnZXN9PC9UYWJDb250ZW50PlxuICAgIDwvRHJvcGRvd25Db250YWluZXI+KTtcbn0pIGFzIFJlYWN0LlNGQzxEcm9wZG93blBhbmVsUHJvcHM+KSwgeyBpbm5lcjoge1xuICAgICAgICBnZXQgVGFiSXRlbSgpIHsgcmV0dXJuIFRhYkl0ZW0gYXMgdHlwZW9mIFRhYkl0ZW07IH0sXG4gICAgICAgIGdldCBEcm9wZG93bkNvbnRhaW5lcigpIHsgcmV0dXJuIERyb3Bkb3duQ29udGFpbmVyIGFzIHR5cGVvZiBEcm9wZG93bkNvbnRhaW5lcjsgfSxcbiAgICAgICAgZ2V0IFNsaWRlRG93blRhYnMoKSB7IHJldHVybiBTbGlkZURvd25UYWJzIGFzIHR5cGVvZiBTbGlkZURvd25UYWJzOyB9LFxuICAgICAgICBnZXQgVGFiQ29udGVudCgpIHsgcmV0dXJuIFRhYkNvbnRlbnQgYXMgdHlwZW9mIFRhYkNvbnRlbnQ7IH1cbiAgICB9IH0pO1xuRHJvcGRvd25QYW5lbC5kaXNwbGF5TmFtZSA9ICdEcm9wZG93blBhbmVsJztcbiJdfQ==
"use strict";
var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var styled_1 = require("../../utils/styled");
var Blocker_1 = require("../Blocker");
var React = require("react");
var InAnimation = function () { return styled_1.keyframes(templateObject_1 || (templateObject_1 = __makeTemplateObject(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"], ["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]))); };
var OutAnimation = function () { return styled_1.keyframes(templateObject_2 || (templateObject_2 = __makeTemplateObject(["\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n"], ["\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n"]))); };
var animationDuration = 500;
exports.StyledSidebarBlocker = styled_1.default(Blocker_1.Blocker)(function (_a) {
    var closing = _a.closing;
    return styled_1.css(templateObject_3 || (templateObject_3 = __makeTemplateObject(["\n    animation: ", " ", "ms;\n    animation-fill-mode: forwards;\n  "], ["\n    animation: ", " ", "ms;\n    animation-fill-mode: forwards;\n  "])), closing ? OutAnimation() : InAnimation(), animationDuration);
});
exports.SidebarBlocker = Object.assign((function (props) {
    var _a = React.useState(!props.open), closed = _a[0], setClosed = _a[1];
    React.useEffect(function () {
        if (props.open) {
            setClosed(false);
            return;
        }
        else {
            var timeout_1 = setTimeout(function () { return setClosed(true); }, animationDuration);
            return function () { return clearTimeout(timeout_1); };
        }
    }, [props.open]);
    //tslint:disable-next-line
    return !closed ? React.createElement(exports.StyledSidebarBlocker, __assign({}, props, { closing: !props.open })) : null;
}), { inner: {
        get StyledSidebarBlocker() { return exports.StyledSidebarBlocker; }
    } });
var templateObject_1, templateObject_2, templateObject_3;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2lkZWJhckJsb2NrZXIucGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1NpZGViYXIvU2lkZWJhckJsb2NrZXIucGFydC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2Q0FBNEQ7QUFDNUQsc0NBQW1EO0FBQ25ELDZCQUErQjtBQUkvQixJQUFNLFdBQVcsR0FBRyxjQUFNLE9BQUEsa0JBQVMscUlBQUMsa0VBT25DLE1BUHlCLENBT3pCLENBQUM7QUFDRixJQUFNLFlBQVksR0FBRyxjQUFNLE9BQUEsa0JBQVMscUlBQUMsa0VBT3BDLE1BUDBCLENBTzFCLENBQUM7QUFDRixJQUFNLGlCQUFpQixHQUFHLEdBQUcsQ0FBQztBQUNqQixRQUFBLG9CQUFvQixHQUFHLGdCQUFNLENBQUMsaUJBQU8sQ0FBQyxDQUVoRCxVQUFDLEVBQVc7UUFBVCxvQkFBTztJQUFPLE9BQUEsWUFBRywwSUFBQyxtQkFDUCxFQUF3QyxHQUFJLEVBQWlCLDZDQUUzRSxLQUZjLE9BQU8sQ0FBQyxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxFQUFJLGlCQUFpQjtBQUQxRCxDQUdqQixDQUFDLENBQUM7QUFDUSxRQUFBLGNBQWMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFFLENBQUMsVUFBQSxLQUFLO0lBQ3pDLElBQUEsZ0NBQWlELEVBQWhELGNBQU0sRUFBRSxpQkFBd0MsQ0FBQztJQUN4RCxLQUFLLENBQUMsU0FBUyxDQUFDO1FBQ1osSUFBSSxLQUFLLENBQUMsSUFBSSxFQUFFO1lBQ1osU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2pCLE9BQU87U0FDVjthQUNJO1lBQ0QsSUFBTSxTQUFPLEdBQUcsVUFBVSxDQUFDLGNBQU0sT0FBQSxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQWYsQ0FBZSxFQUFFLGlCQUFpQixDQUFDLENBQUM7WUFDckUsT0FBTyxjQUFNLE9BQUEsWUFBWSxDQUFDLFNBQU8sQ0FBQyxFQUFyQixDQUFxQixDQUFDO1NBQ3RDO0lBQ0wsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDakIsMEJBQTBCO0lBQzFCLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLG9CQUFDLDRCQUFvQixlQUFLLEtBQUssSUFBRSxPQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztBQUNyRixDQUFDLENBQW1DLEVBQUUsRUFBRSxLQUFLLEVBQUU7UUFDdkMsSUFBSSxvQkFBb0IsS0FBSyxPQUFPLDRCQUFtRCxDQUFDLENBQUMsQ0FBQztLQUM3RixFQUFFLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdHlsZWQsIHsga2V5ZnJhbWVzLCBjc3MgfSBmcm9tICcuLi8uLi91dGlscy9zdHlsZWQnO1xuaW1wb3J0IHsgQmxvY2tlciwgQmxvY2tlclByb3BzIH0gZnJvbSAnLi4vQmxvY2tlcic7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5leHBvcnQgaW50ZXJmYWNlIFNpZGViYXJCbG9ja2VyUHJvcHMgZXh0ZW5kcyBCbG9ja2VyUHJvcHMge1xuICAgIG9wZW46IGJvb2xlYW47XG59XG5jb25zdCBJbkFuaW1hdGlvbiA9ICgpID0+IGtleWZyYW1lcyBgXG4gIGZyb20ge1xuICAgIG9wYWNpdHk6IDA7XG4gIH1cbiAgdG8ge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbmA7XG5jb25zdCBPdXRBbmltYXRpb24gPSAoKSA9PiBrZXlmcmFtZXMgYFxuICBmcm9tIHtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG4gIHRvIHtcbiAgICBvcGFjaXR5OiAwO1xuICB9XG5gO1xuY29uc3QgYW5pbWF0aW9uRHVyYXRpb24gPSA1MDA7XG5leHBvcnQgY29uc3QgU3R5bGVkU2lkZWJhckJsb2NrZXIgPSBzdHlsZWQoQmxvY2tlcik8e1xuICAgIGNsb3Npbmc6IGJvb2xlYW47XG59PigoeyBjbG9zaW5nIH0pID0+IGNzcyBgXG4gICAgYW5pbWF0aW9uOiAke2Nsb3NpbmcgPyBPdXRBbmltYXRpb24oKSA6IEluQW5pbWF0aW9uKCl9ICR7YW5pbWF0aW9uRHVyYXRpb259bXM7XG4gICAgYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XG4gIGApO1xuZXhwb3J0IGNvbnN0IFNpZGViYXJCbG9ja2VyID0gT2JqZWN0LmFzc2lnbigoKHByb3BzID0+IHtcbiAgICBjb25zdCBbY2xvc2VkLCBzZXRDbG9zZWRdID0gUmVhY3QudXNlU3RhdGUoIXByb3BzLm9wZW4pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChwcm9wcy5vcGVuKSB7XG4gICAgICAgICAgICBzZXRDbG9zZWQoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gc2V0Q2xvc2VkKHRydWUpLCBhbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfSwgW3Byb3BzLm9wZW5dKTtcbiAgICAvL3RzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgIHJldHVybiAhY2xvc2VkID8gPFN0eWxlZFNpZGViYXJCbG9ja2VyIHsuLi5wcm9wc30gY2xvc2luZz17IXByb3BzLm9wZW59Lz4gOiBudWxsO1xufSkgYXMgUmVhY3QuRkM8U2lkZWJhckJsb2NrZXJQcm9wcz4pLCB7IGlubmVyOiB7XG4gICAgICAgIGdldCBTdHlsZWRTaWRlYmFyQmxvY2tlcigpIHsgcmV0dXJuIFN0eWxlZFNpZGViYXJCbG9ja2VyIGFzIHR5cGVvZiBTdHlsZWRTaWRlYmFyQmxvY2tlcjsgfVxuICAgIH0gfSk7XG4iXX0=
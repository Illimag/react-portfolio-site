"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)
            t[p[i]] = s[p[i]];
    return t;
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var react_onclickoutside_1 = require("react-onclickoutside");
var InteractiveList_1 = require("../InteractiveList");
var Flyout_1 = require("../Flyout");
var CustomWrapper = function (_a) {
    var _0 = _a.open, _1 = _a.border, _2 = _a.direction, props = __rest(_a, ["open", "border", "direction"]);
    return (React.createElement("div", __assign({}, props)));
};
CustomWrapper.displayName = 'CustomWrapper';
function getItems(group) {
    return group.map(function (item, index) { return ({
        content: item,
        key: index.toString(),
    }); });
}
var OverflowMenuInt = /** @class */ (function (_super) {
    __extends(OverflowMenuInt, _super);
    function OverflowMenuInt(props) {
        var _this = _super.call(this, props) || this;
        _this.handleClickOutside = function () {
            _this.state.open &&
                _this.setState({
                    open: false,
                });
        };
        _this.toggleGroup = function (e) {
            var open = _this.state.open;
            _this.setState({
                open: !open,
            });
            e.preventDefault();
        };
        _this.closeList = function () {
            _this.setState({
                open: false,
            });
        };
        _this.state = {
            open: false,
            items: getItems(props.items),
        };
        return _this;
    }
    OverflowMenuInt.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {
        this.setState({
            items: getItems(nextProps.items),
        });
    };
    OverflowMenuInt.prototype.render = function () {
        var _a = this.state, open = _a.open, items = _a.items;
        var _b = this.props, toggleButton = _b.button, flyoutProps = _b.flyoutProps, interactiveListProps = _b.listProps;
        return (React.createElement(Flyout_1.Flyout, __assign({ noGutter: true, content: React.createElement(InteractiveList_1.InteractiveList, __assign({ open: open, autoFocus: true, data: items, onBlur: this.closeList, onChange: this.closeList, customWrapper: CustomWrapper }, interactiveListProps)) }, flyoutProps, { open: open }),
            React.createElement("div", { onClick: this.toggleGroup }, toggleButton || '...')));
    };
    OverflowMenuInt.inner = {
        get Flyout() { return Flyout_1.Flyout; }
    };
    return OverflowMenuInt;
}(React.Component));
exports.OverflowMenu = react_onclickoutside_1.default(OverflowMenuInt);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9PdmVyZmxvd01lbnUvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkJBQStCO0FBQy9CLDZEQUF1RTtBQUN2RSxzREFBOEg7QUFDOUgsb0NBQWdEO0FBdUJoRCxJQUFNLGFBQWEsR0FBMkMsVUFBQyxFQUFpRDtJQUEvQyxJQUFBLFlBQVEsRUFBRSxjQUFVLEVBQUUsaUJBQWEsRUFBRSxtREFBUTtJQUFPLE9BQUEsQ0FBQyx3Q0FBUyxLQUFLLEVBQUcsQ0FBQyxDQUFBO0NBQUEsQ0FBQztBQUN6SSxhQUFhLENBQUMsV0FBVyxHQUFHLGVBQWUsQ0FBQztBQUM1QyxTQUFTLFFBQVEsQ0FBQyxLQUE4QjtJQUM1QyxPQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBQyxJQUFJLEVBQUUsS0FBSyxJQUFLLE9BQUEsQ0FBQztRQUMvQixPQUFPLEVBQUUsSUFBSTtRQUNiLEdBQUcsRUFBRSxLQUFLLENBQUMsUUFBUSxFQUFFO0tBQ3hCLENBQUMsRUFIZ0MsQ0FHaEMsQ0FBQyxDQUFDO0FBQ1IsQ0FBQztBQUNEO0lBQThCLG1DQUFxRDtJQUMvRSx5QkFBWSxLQUF3QjtRQUFwQyxZQUNJLGtCQUFNLEtBQUssQ0FBQyxTQUtmO1FBQ0Qsd0JBQWtCLEdBQUc7WUFDakIsS0FBSSxDQUFDLEtBQUssQ0FBQyxJQUFJO2dCQUNYLEtBQUksQ0FBQyxRQUFRLENBQUM7b0JBQ1YsSUFBSSxFQUFFLEtBQUs7aUJBQ2QsQ0FBQyxDQUFDO1FBQ1gsQ0FBQyxDQUFDO1FBTU0saUJBQVcsR0FBRyxVQUFDLENBQW1CO1lBQzlCLElBQUEsdUJBQUksQ0FBZ0I7WUFDNUIsS0FBSSxDQUFDLFFBQVEsQ0FBQztnQkFDVixJQUFJLEVBQUUsQ0FBQyxJQUFJO2FBQ2QsQ0FBQyxDQUFDO1lBQ0gsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZCLENBQUMsQ0FBQztRQUNNLGVBQVMsR0FBRztZQUNoQixLQUFJLENBQUMsUUFBUSxDQUFDO2dCQUNWLElBQUksRUFBRSxLQUFLO2FBQ2QsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDO1FBM0JFLEtBQUksQ0FBQyxLQUFLLEdBQUc7WUFDVCxJQUFJLEVBQUUsS0FBSztZQUNYLEtBQUssRUFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztTQUMvQixDQUFDOztJQUNOLENBQUM7SUFPRCwwREFBZ0MsR0FBaEMsVUFBaUMsU0FBNEI7UUFDekQsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNWLEtBQUssRUFBRSxRQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztTQUNuQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBYUQsZ0NBQU0sR0FBTjtRQUNVLElBQUEsZUFBNEIsRUFBMUIsY0FBSSxFQUFFLGdCQUFvQixDQUFDO1FBQzdCLElBQUEsZUFBbUYsRUFBakYsd0JBQW9CLEVBQUUsNEJBQVcsRUFBRSxtQ0FBOEMsQ0FBQztRQUMxRixPQUFPLENBQUMsb0JBQUMsZUFBTSxhQUFDLFFBQVEsUUFBQyxPQUFPLEVBQUUsb0JBQUMsaUNBQWUsYUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFNBQVMsUUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLGFBQWEsRUFBRSxhQUFhLElBQU0sb0JBQW9CLEVBQUcsSUFBTSxXQUFXLElBQUUsSUFBSSxFQUFFLElBQUk7WUFDOU4sNkJBQUssT0FBTyxFQUFFLElBQUksQ0FBQyxXQUFXLElBQUcsWUFBWSxJQUFJLEtBQUssQ0FBTyxDQUN0RCxDQUFDLENBQUM7SUFDYixDQUFDO0lBQ00scUJBQUssR0FBRztRQUNYLElBQUksTUFBTSxLQUFLLE9BQU8sZUFBdUIsQ0FBQyxDQUFDLENBQUM7S0FDbkQsQ0FBQztJQUNOLHNCQUFDO0NBQUEsQUF6Q0QsQ0FBOEIsS0FBSyxDQUFDLFNBQVMsR0F5QzVDO0FBQ1ksUUFBQSxZQUFZLEdBQThELDhCQUFjLENBQUMsZUFBZSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgb25DbGlja091dHNpZGUsIHsgQWRkaXRpb25hbFByb3BzIH0gZnJvbSAncmVhY3Qtb25jbGlja291dHNpZGUnO1xuaW1wb3J0IHsgSW50ZXJhY3RpdmVMaXN0V3JhcHBlclByb3BzLCBJbnRlcmFjdGl2ZUxpc3RJdGVtLCBJbnRlcmFjdGl2ZUxpc3QsIEludGVyYWN0aXZlTGlzdFByb3BzLCB9IGZyb20gJy4uL0ludGVyYWN0aXZlTGlzdCc7XG5pbXBvcnQgeyBGbHlvdXQsIEZseW91dFByb3BzIH0gZnJvbSAnLi4vRmx5b3V0JztcbmV4cG9ydCBpbnRlcmZhY2UgT3ZlcmZsb3dNZW51UHJvcHMge1xuICAgIC8qKlxuICAgICAqIFRoZSBpdGVtcyB0byBkaXNwbGF5IGluIHRoZSBtZW51LlxuICAgICAqL1xuICAgIGl0ZW1zOiBBcnJheTxSZWFjdC5SZWFjdENoaWxkPjtcbiAgICAvKipcbiAgICAgKiBUaGUgYnV0dG9uIHRvIGRpc3BsYXkgZm9yIG9wZW5pbmcgdGhlIG1lbnUuXG4gICAgICovXG4gICAgYnV0dG9uPzogUmVhY3QuUmVhY3ROb2RlO1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9wZXJ0aWVzIHRvIHBhc3Mgb24gdG8gdGhlIGZseW91dC5cbiAgICAgKi9cbiAgICBmbHlvdXRQcm9wcz86IFBhcnRpYWw8Rmx5b3V0UHJvcHM+O1xuICAgIC8qKlxuICAgICAqIFRoZSBwcm9wZXJ0aWVzIHRvIHBhc3Mgb24gdGhlIGludGVyYWN0aXZlIGxpc3QuXG4gICAgICovXG4gICAgbGlzdFByb3BzPzogUGFydGlhbDxJbnRlcmFjdGl2ZUxpc3RQcm9wcz47XG59XG5leHBvcnQgaW50ZXJmYWNlIE92ZXJmbG93TWVudVN0YXRlIHtcbiAgICBvcGVuOiBib29sZWFuO1xuICAgIGl0ZW1zOiBBcnJheTxJbnRlcmFjdGl2ZUxpc3RJdGVtPjtcbn1cbmNvbnN0IEN1c3RvbVdyYXBwZXI6IFJlYWN0LlNGQzxJbnRlcmFjdGl2ZUxpc3RXcmFwcGVyUHJvcHM+ID0gKHsgb3BlbjogXzAsIGJvcmRlcjogXzEsIGRpcmVjdGlvbjogXzIsIC4uLnByb3BzIH0pID0+ICg8ZGl2IHsuLi5wcm9wc30vPik7XG5DdXN0b21XcmFwcGVyLmRpc3BsYXlOYW1lID0gJ0N1c3RvbVdyYXBwZXInO1xuZnVuY3Rpb24gZ2V0SXRlbXMoZ3JvdXA6IEFycmF5PFJlYWN0LlJlYWN0Q2hpbGQ+KTogQXJyYXk8SW50ZXJhY3RpdmVMaXN0SXRlbT4ge1xuICAgIHJldHVybiBncm91cC5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoe1xuICAgICAgICBjb250ZW50OiBpdGVtLFxuICAgICAgICBrZXk6IGluZGV4LnRvU3RyaW5nKCksXG4gICAgfSkpO1xufVxuY2xhc3MgT3ZlcmZsb3dNZW51SW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PE92ZXJmbG93TWVudVByb3BzLCBPdmVyZmxvd01lbnVTdGF0ZT4ge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBPdmVyZmxvd01lbnVQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBvcGVuOiBmYWxzZSxcbiAgICAgICAgICAgIGl0ZW1zOiBnZXRJdGVtcyhwcm9wcy5pdGVtcyksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGhhbmRsZUNsaWNrT3V0c2lkZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5zdGF0ZS5vcGVuICYmXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBvcGVuOiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG4gICAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBPdmVyZmxvd01lbnVQcm9wcykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGl0ZW1zOiBnZXRJdGVtcyhuZXh0UHJvcHMuaXRlbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcHJpdmF0ZSB0b2dnbGVHcm91cCA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgb3BlbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBvcGVuOiAhb3BlbixcbiAgICAgICAgfSk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuICAgIHByaXZhdGUgY2xvc2VMaXN0ID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG9wZW46IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBvcGVuLCBpdGVtcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgY29uc3QgeyBidXR0b246IHRvZ2dsZUJ1dHRvbiwgZmx5b3V0UHJvcHMsIGxpc3RQcm9wczogaW50ZXJhY3RpdmVMaXN0UHJvcHMgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIHJldHVybiAoPEZseW91dCBub0d1dHRlciBjb250ZW50PXs8SW50ZXJhY3RpdmVMaXN0IG9wZW49e29wZW59IGF1dG9Gb2N1cyBkYXRhPXtpdGVtc30gb25CbHVyPXt0aGlzLmNsb3NlTGlzdH0gb25DaGFuZ2U9e3RoaXMuY2xvc2VMaXN0fSBjdXN0b21XcmFwcGVyPXtDdXN0b21XcmFwcGVyfSB7Li4uaW50ZXJhY3RpdmVMaXN0UHJvcHN9Lz59IHsuLi5mbHlvdXRQcm9wc30gb3Blbj17b3Blbn0+XG4gICAgICAgIDxkaXYgb25DbGljaz17dGhpcy50b2dnbGVHcm91cH0+e3RvZ2dsZUJ1dHRvbiB8fCAnLi4uJ308L2Rpdj5cbiAgICAgIDwvRmx5b3V0Pik7XG4gICAgfVxuICAgIHN0YXRpYyBpbm5lciA9IHtcbiAgICAgICAgZ2V0IEZseW91dCgpIHsgcmV0dXJuIEZseW91dCBhcyB0eXBlb2YgRmx5b3V0OyB9XG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBPdmVyZmxvd01lbnU6IFJlYWN0LkNvbXBvbmVudENsYXNzPEFkZGl0aW9uYWxQcm9wcyAmIE92ZXJmbG93TWVudVByb3BzPiA9IG9uQ2xpY2tPdXRzaWRlKE92ZXJmbG93TWVudUludCk7XG4iXX0=
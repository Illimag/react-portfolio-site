"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var types_1 = require("./types");
var eventManager_1 = require("../../utils/eventManager");
var defaultOptions = {
    type: 'none',
    autoClose: undefined,
};
function mergeOptions(options, type) {
    return Object.assign({}, defaultOptions, options, { type: type });
}
function emitEvent(_a, type) {
    var content = _a.content, _b = _a.options, options = _b === void 0 ? {} : _b;
    if (type === void 0) { type = 'none'; }
    var eventManagerOption = options.events;
    var eventManager = eventManagerOption || eventManager_1.eventManagers[0];
    eventManager.emit(types_1.NotificationAction.showNotification, {
        content: content,
        options: mergeOptions(options, type),
    });
}
exports.notify = Object.assign(function (payload) { return emitEvent(payload, payload.options && payload.options.type); }, {
    success: function (payload) { return emitEvent(payload, 'success'); },
    info: function (payload) { return emitEvent(payload, 'info'); },
    warn: function (payload) { return emitEvent(payload, 'warning'); },
    warning: function (payload) { return emitEvent(payload, 'warning'); },
    error: function (payload) { return emitEvent(payload, 'error'); },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90aWZpZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9Ob3RpZmljYXRpb25zL25vdGlmaWVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsaUNBQXdHO0FBQ3hHLHlEQUF5RDtBQUV6RCxJQUFNLGNBQWMsR0FBdUI7SUFDekMsSUFBSSxFQUFFLE1BQU07SUFDWixTQUFTLEVBQUUsU0FBUztDQUNyQixDQUFDO0FBRUYsU0FBUyxZQUFZLENBQUMsT0FBMkIsRUFBRSxJQUFzQjtJQUN2RSxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLGNBQWMsRUFBRSxPQUFPLEVBQUUsRUFBRSxJQUFJLE1BQUEsRUFBRSxDQUFDLENBQUM7QUFDOUQsQ0FBQztBQUVELFNBQVMsU0FBUyxDQUFDLEVBQThDLEVBQUUsSUFBK0I7UUFBN0Usb0JBQU8sRUFBRSxlQUFZLEVBQVosaUNBQVk7SUFBeUIscUJBQUEsRUFBQSxhQUErQjtJQUN4RixJQUFBLG1DQUEwQixDQUFhO0lBQy9DLElBQU0sWUFBWSxHQUFHLGtCQUFrQixJQUFJLDRCQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUQsWUFBWSxDQUFDLElBQUksQ0FBQywwQkFBa0IsQ0FBQyxnQkFBZ0IsRUFBRTtRQUNyRCxPQUFPLFNBQUE7UUFDUCxPQUFPLEVBQUUsWUFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUM7S0FDckMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVZLFFBQUEsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQ2pDLFVBQUMsT0FBNEIsSUFBSyxPQUFBLFNBQVMsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLE9BQU8sSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUEzRCxDQUEyRCxFQUM3RjtJQUNFLE9BQU8sRUFBRSxVQUFDLE9BQTRCLElBQUssT0FBQSxTQUFTLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxFQUE3QixDQUE2QjtJQUN4RSxJQUFJLEVBQUUsVUFBQyxPQUE0QixJQUFLLE9BQUEsU0FBUyxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsRUFBMUIsQ0FBMEI7SUFDbEUsSUFBSSxFQUFFLFVBQUMsT0FBNEIsSUFBSyxPQUFBLFNBQVMsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLEVBQTdCLENBQTZCO0lBQ3JFLE9BQU8sRUFBRSxVQUFDLE9BQTRCLElBQUssT0FBQSxTQUFTLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxFQUE3QixDQUE2QjtJQUN4RSxLQUFLLEVBQUUsVUFBQyxPQUE0QixJQUFLLE9BQUEsU0FBUyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBM0IsQ0FBMkI7Q0FDckUsQ0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm90aWZpY2F0aW9uT3B0aW9uLCBOb3RpZmljYXRpb25UeXBlLCBOb3RpZmljYXRpb25PcHRpb25zLCBOb3RpZmljYXRpb25BY3Rpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGV2ZW50TWFuYWdlcnMgfSBmcm9tICcuLi8uLi91dGlscy9ldmVudE1hbmFnZXInO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogTm90aWZpY2F0aW9uT3B0aW9uID0ge1xuICB0eXBlOiAnbm9uZScsXG4gIGF1dG9DbG9zZTogdW5kZWZpbmVkLFxufTtcblxuZnVuY3Rpb24gbWVyZ2VPcHRpb25zKG9wdGlvbnM6IE5vdGlmaWNhdGlvbk9wdGlvbiwgdHlwZTogTm90aWZpY2F0aW9uVHlwZSk6IE5vdGlmaWNhdGlvbk9wdGlvbiB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucywgeyB0eXBlIH0pO1xufVxuXG5mdW5jdGlvbiBlbWl0RXZlbnQoeyBjb250ZW50LCBvcHRpb25zID0ge30gfTogTm90aWZpY2F0aW9uT3B0aW9ucywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSA9ICdub25lJykge1xuICBjb25zdCB7IGV2ZW50czogZXZlbnRNYW5hZ2VyT3B0aW9uIH0gPSBvcHRpb25zO1xuICBjb25zdCBldmVudE1hbmFnZXIgPSBldmVudE1hbmFnZXJPcHRpb24gfHwgZXZlbnRNYW5hZ2Vyc1swXTtcbiAgZXZlbnRNYW5hZ2VyLmVtaXQoTm90aWZpY2F0aW9uQWN0aW9uLnNob3dOb3RpZmljYXRpb24sIHtcbiAgICBjb250ZW50LFxuICAgIG9wdGlvbnM6IG1lcmdlT3B0aW9ucyhvcHRpb25zLCB0eXBlKSxcbiAgfSk7XG59XG5cbmV4cG9ydCBjb25zdCBub3RpZnkgPSBPYmplY3QuYXNzaWduKFxuICAocGF5bG9hZDogTm90aWZpY2F0aW9uT3B0aW9ucykgPT4gZW1pdEV2ZW50KHBheWxvYWQsIHBheWxvYWQub3B0aW9ucyAmJiBwYXlsb2FkLm9wdGlvbnMudHlwZSksXG4gIHtcbiAgICBzdWNjZXNzOiAocGF5bG9hZDogTm90aWZpY2F0aW9uT3B0aW9ucykgPT4gZW1pdEV2ZW50KHBheWxvYWQsICdzdWNjZXNzJyksXG4gICAgaW5mbzogKHBheWxvYWQ6IE5vdGlmaWNhdGlvbk9wdGlvbnMpID0+IGVtaXRFdmVudChwYXlsb2FkLCAnaW5mbycpLFxuICAgIHdhcm46IChwYXlsb2FkOiBOb3RpZmljYXRpb25PcHRpb25zKSA9PiBlbWl0RXZlbnQocGF5bG9hZCwgJ3dhcm5pbmcnKSxcbiAgICB3YXJuaW5nOiAocGF5bG9hZDogTm90aWZpY2F0aW9uT3B0aW9ucykgPT4gZW1pdEV2ZW50KHBheWxvYWQsICd3YXJuaW5nJyksXG4gICAgZXJyb3I6IChwYXlsb2FkOiBOb3RpZmljYXRpb25PcHRpb25zKSA9PiBlbWl0RXZlbnQocGF5bG9hZCwgJ2Vycm9yJyksXG4gIH0sXG4pO1xuIl19
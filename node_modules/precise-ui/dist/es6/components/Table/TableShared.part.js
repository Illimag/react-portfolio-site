import * as React from 'react';
import styled, { themed, css } from '../../utils/styled';
import { getFontStyle } from '../../textStyles';
import { IncreaseDecrease } from '../IncreaseDecrease';
import { distance } from '../../distance';
const StyledIncreaseDecrease = styled(IncreaseDecrease) `
  margin-left: ${distance.xsmall};
`;
const HeaderLabel = styled.div `
  font-size: 0;
  white-space: nowrap;

  > span {
    ${getFontStyle({ size: 'small' })}

    display: inline-block;
    vertical-align: middle;
  }
`;
export const StyledTableHead = styled.thead `
  ${getFontStyle({ weight: 'bold' })}
  
  color: ${themed(({ theme }) => theme.text6 || theme.text1)};
`;
export const StyledTableFoot = styled.tfoot `
  ${getFontStyle({ size: 'xSmall' })}
`;
export const StyledTableHeaderRow = styled.tr ``;
export const StyledTableRow = styled.tr(themed(({ theme: { ui3, ui4, text1 } }) => css `
      border-bottom: 1px solid ${ui4};
      color: ${text1};

      &:hover {
        background: ${ui3};
      }
    `));
export const StyledTableHeader = styled('th') `
  text-align: left;
  border-bottom: 1px solid ${themed(({ theme }) => theme.ui5)};
  cursor: ${({ sortable }) => (sortable ? 'pointer' : 'default')};
  box-sizing: border-box;
  ${({ width }) => (width && `width: ${width}`) || ''};
`;
export const getDefaultHeaderCellRenderer = (sort) => ({ value, sorting, column, key, }) => {
    if (column !== -1) {
        return (React.createElement(HeaderLabel, null,
            React.createElement("span", null, value),
            sorting !== false && (React.createElement(StyledIncreaseDecrease, { value: sorting ? (sorting === 'descending' ? 'decrease' : 'increase') : undefined, onIncrease: e => {
                    e.stopPropagation();
                    sort(key, 'ascending');
                }, onDecrease: e => {
                    e.stopPropagation();
                    sort(key, 'descending');
                } }))));
    }
    return value;
};
export function defaultCellRenderer({ value }) {
    switch (typeof value) {
        case 'boolean':
        case 'number':
        case 'string':
            return value.toString();
        case 'object':
            if (value) {
                return value.toString();
            }
            break;
    }
    return '';
}
export function defaultBodyRenderer(e) {
    const TableBody = e.table;
    return React.createElement(TableBody, Object.assign({}, e.props), e.rows);
}
export function getColumns(data, columns) {
    return (columns ||
        Object.keys(data[0] || {}).reduce((columns, key) => {
            columns[key] = {
                header: key,
                sortable: true,
            };
            return columns;
        }, {}));
}
export function handleDataClickedEvent(tableCellEvent, handler) {
    return (e) => {
        e.preventDefault();
        const { row, column, key, data } = tableCellEvent;
        if (typeof handler === 'function') {
            handler(Object.assign({}, tableCellEvent, { value: data && (column === -1 ? row + 1 : data[key]) }));
        }
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFibGVTaGFyZWQucGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1RhYmxlL1RhYmxlU2hhcmVkLnBhcnQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBRS9CLE9BQU8sTUFBTSxFQUFFLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDMUMsTUFBTSxzQkFBc0IsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztpQkFDdkMsUUFBUSxDQUFDLE1BQU07Q0FDL0IsQ0FBQztBQUNGLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUM7Ozs7O01BS3pCLFlBQVksQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsQ0FBQzs7Ozs7Q0FLcEMsQ0FBQztBQUNGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ3hDLFlBQVksQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsQ0FBQzs7V0FFekIsTUFBTSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDO0NBQzNELENBQUM7QUFDRixNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUN4QyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLENBQUM7Q0FDbkMsQ0FBQztBQUNGLE1BQU0sQ0FBQyxNQUFNLG9CQUFvQixH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TSxDQUU5QixDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsRUFBRTtZQUNoQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUc7Z0JBQ1gsTUFBTSxFQUFFLEdBQUc7Z0JBQ1gsUUFBUSxFQUFFLElBQUk7YUFDakIsQ0FBQztZQUNGLE9BQU8sT0FBTyxDQUFDO1FBQ25CLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ2hCLENBQUM7QUFDRCxNQUFNLFVBQVUsc0JBQXNCLENBQUksY0FBaUMsRUFBRSxPQUFzQztJQUMvRyxPQUFPLENBQXNDLENBQXNCLEVBQUUsRUFBRTtRQUNuRSxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDbkIsTUFBTSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLGNBQWMsQ0FBQztRQUNsRCxJQUFJLE9BQU8sT0FBTyxLQUFLLFVBQVUsRUFBRTtZQUMvQixPQUFPLG1CQUNBLGNBQWMsSUFDakIsS0FBSyxFQUFFLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQ3RELENBQUM7U0FDTjtJQUNMLENBQUMsQ0FBQztBQUNOLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUYWJsZUJvZHlSZW5kZXJFdmVudCwgQ29sdW1uLCBUYWJsZUNvbHVtbnMsIFRhYmxlQ2VsbFJlbmRlckV2ZW50LCBUYWJsZUNlbGxFdmVudCwgVGFibGVQcm9wcywgfSBmcm9tICcuL1RhYmxlLnR5cGVzLnBhcnQnO1xuaW1wb3J0IHN0eWxlZCwgeyB0aGVtZWQsIGNzcyB9IGZyb20gJy4uLy4uL3V0aWxzL3N0eWxlZCc7XG5pbXBvcnQgeyBnZXRGb250U3R5bGUgfSBmcm9tICcuLi8uLi90ZXh0U3R5bGVzJztcbmltcG9ydCB7IEluY3JlYXNlRGVjcmVhc2UgfSBmcm9tICcuLi9JbmNyZWFzZURlY3JlYXNlJztcbmltcG9ydCB7IGRpc3RhbmNlIH0gZnJvbSAnLi4vLi4vZGlzdGFuY2UnO1xuY29uc3QgU3R5bGVkSW5jcmVhc2VEZWNyZWFzZSA9IHN0eWxlZChJbmNyZWFzZURlY3JlYXNlKSBgXG4gIG1hcmdpbi1sZWZ0OiAke2Rpc3RhbmNlLnhzbWFsbH07XG5gO1xuY29uc3QgSGVhZGVyTGFiZWwgPSBzdHlsZWQuZGl2IGBcbiAgZm9udC1zaXplOiAwO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuXG4gID4gc3BhbiB7XG4gICAgJHtnZXRGb250U3R5bGUoeyBzaXplOiAnc21hbGwnIH0pfVxuXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIH1cbmA7XG5leHBvcnQgY29uc3QgU3R5bGVkVGFibGVIZWFkID0gc3R5bGVkLnRoZWFkIGBcbiAgJHtnZXRGb250U3R5bGUoeyB3ZWlnaHQ6ICdib2xkJyB9KX1cbiAgXG4gIGNvbG9yOiAke3RoZW1lZCgoeyB0aGVtZSB9KSA9PiB0aGVtZS50ZXh0NiB8fCB0aGVtZS50ZXh0MSl9O1xuYDtcbmV4cG9ydCBjb25zdCBTdHlsZWRUYWJsZUZvb3QgPSBzdHlsZWQudGZvb3QgYFxuICAke2dldEZvbnRTdHlsZSh7IHNpemU6ICd4U21hbGwnIH0pfVxuYDtcbmV4cG9ydCBjb25zdCBTdHlsZWRUYWJsZUhlYWRlclJvdyA9IHN0eWxlZC50ciBgYDtcbmV4cG9ydCBjb25zdCBTdHlsZWRUYWJsZVJvdyA9IHN0eWxlZC50cih0aGVtZWQoKHsgdGhlbWU6IHsgdWkzLCB1aTQsIHRleHQxIH0gfSkgPT4gY3NzIGBcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAke3VpNH07XG4gICAgICBjb2xvcjogJHt0ZXh0MX07XG5cbiAgICAgICY6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiAke3VpM307XG4gICAgICB9XG4gICAgYCkpO1xuZXhwb3J0IGludGVyZmFjZSBUYWJsZUhlYWRlclByb3BzIHtcbiAgICBzb3J0YWJsZT86IGJvb2xlYW47XG4gICAgd2lkdGg/OiBzdHJpbmc7XG59XG5leHBvcnQgY29uc3QgU3R5bGVkVGFibGVIZWFkZXIgPSBzdHlsZWQoJ3RoJyk8VGFibGVIZWFkZXJQcm9wcz4gYFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgJHt0aGVtZWQoKHsgdGhlbWUgfSkgPT4gdGhlbWUudWk1KX07XG4gIGN1cnNvcjogJHsoeyBzb3J0YWJsZSB9KSA9PiAoc29ydGFibGUgPyAncG9pbnRlcicgOiAnZGVmYXVsdCcpfTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgJHsoeyB3aWR0aCB9KSA9PiAod2lkdGggJiYgYHdpZHRoOiAke3dpZHRofWApIHx8ICcnfTtcbmA7XG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdEhlYWRlckNlbGxSZW5kZXJlciA9IChzb3J0OiAoa2V5OiBzdHJpbmcsIG9yZGVyOiAnYXNjZW5kaW5nJyB8ICdkZXNjZW5kaW5nJykgPT4gdm9pZCkgPT4gPFQgZXh0ZW5kcyB7fT4oeyB2YWx1ZSwgc29ydGluZywgY29sdW1uLCBrZXksIH06IFRhYmxlQ2VsbFJlbmRlckV2ZW50PFQ+KTogUmVhY3QuUmVhY3ROb2RlID0+IHtcbiAgICBpZiAoY29sdW1uICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gKDxIZWFkZXJMYWJlbD5cbiAgICAgICAgPHNwYW4+e3ZhbHVlfTwvc3Bhbj5cbiAgICAgICAge3NvcnRpbmcgIT09IGZhbHNlICYmICg8U3R5bGVkSW5jcmVhc2VEZWNyZWFzZSB2YWx1ZT17c29ydGluZyA/IChzb3J0aW5nID09PSAnZGVzY2VuZGluZycgPyAnZGVjcmVhc2UnIDogJ2luY3JlYXNlJykgOiB1bmRlZmluZWR9IG9uSW5jcmVhc2U9e2UgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHNvcnQoa2V5LCAnYXNjZW5kaW5nJyk7XG4gICAgICAgIH19IG9uRGVjcmVhc2U9e2UgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHNvcnQoa2V5LCAnZGVzY2VuZGluZycpO1xuICAgICAgICB9fS8+KX1cbiAgICAgIDwvSGVhZGVyTGFiZWw+KTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0Q2VsbFJlbmRlcmVyPFQ+KHsgdmFsdWUgfTogVGFibGVDZWxsUmVuZGVyRXZlbnQ8VD4pOiBSZWFjdC5SZWFjdE5vZGUge1xuICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEJvZHlSZW5kZXJlcihlOiBUYWJsZUJvZHlSZW5kZXJFdmVudCkge1xuICAgIGNvbnN0IFRhYmxlQm9keSA9IGUudGFibGU7XG4gICAgcmV0dXJuIDxUYWJsZUJvZHkgey4uLmUucHJvcHN9PntlLnJvd3N9PC9UYWJsZUJvZHk+O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbHVtbnM8VD4oZGF0YTogQXJyYXk8VD4sIGNvbHVtbnM/OiBUYWJsZUNvbHVtbnMpIHtcbiAgICByZXR1cm4gKGNvbHVtbnMgfHxcbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YVswXSB8fCB7fSkucmVkdWNlPHtcbiAgICAgICAgICAgIFtrZXk6IHN0cmluZ106IENvbHVtbjtcbiAgICAgICAgfT4oKGNvbHVtbnMsIGtleSkgPT4ge1xuICAgICAgICAgICAgY29sdW1uc1trZXldID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcjoga2V5LFxuICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW5zO1xuICAgICAgICB9LCB7fSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZURhdGFDbGlja2VkRXZlbnQ8VD4odGFibGVDZWxsRXZlbnQ6IFRhYmxlQ2VsbEV2ZW50PFQ+LCBoYW5kbGVyPzogVGFibGVQcm9wczxUPlsnb25EYXRhQ2xpY2snXSkge1xuICAgIHJldHVybiA8RSBleHRlbmRzIEhUTUxFbGVtZW50ID0gSFRNTEVsZW1lbnQ+KGU6IFJlYWN0Lk1vdXNlRXZlbnQ8RT4pID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB7IHJvdywgY29sdW1uLCBrZXksIGRhdGEgfSA9IHRhYmxlQ2VsbEV2ZW50O1xuICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGhhbmRsZXIoe1xuICAgICAgICAgICAgICAgIC4uLnRhYmxlQ2VsbEV2ZW50LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkYXRhICYmIChjb2x1bW4gPT09IC0xID8gcm93ICsgMSA6IGRhdGFba2V5XSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iXX0=
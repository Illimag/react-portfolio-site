var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)
            t[p[i]] = s[p[i]];
    return t;
};
import * as React from 'react';
import styled, { themed } from '../../utils/styled';
import { colorCycle } from '../../utils/colorCycle';
import { remCalc } from '../../utils/remCalc';
const avatarSize = {
    'xx-small': '16px',
    'x-small': '24px',
    small: '32px',
    medium: '40px',
    large: '48px',
    'x-large': '72px',
};
const avatarFontSize = {
    'xx-small': remCalc('9px'),
    'x-small': remCalc('11px'),
    small: remCalc('14px'),
    medium: remCalc('14px'),
    large: remCalc('17px'),
    'x-large': remCalc('28px'),
};
const AvatarContainer = styled('div') `
  position: relative;
  overflow: hidden;
  ${({ size }) => `
    width: ${avatarSize[size]};
    height: ${avatarSize[size]}
  `};
`;
const AvatarContent = styled('div') `
  border: 0;
  perspective: 1px;

  color: ${themed(props => props.theme.text7)};
  border-radius: 50%;
  overflow: hidden;

  ${({ size }) => `
    width: ${avatarSize[size]};
    height: ${avatarSize[size]};
  `};
`;
const AvatarInitials = styled('div') `
  display: flex;
  align-items: center;
  justify-content: center;

  text-align: center;
  background-color: ${themed(props => props.color || colorCycle(props.theme.colorCycle, props.initials))};
  ${({ size }) => `
    height: ${avatarSize[size]};
    width: ${avatarSize[size]};
    font-size: ${avatarFontSize[size]};
  `};
`;
const AvatarImage = styled.img `
  transform: translate(-50%, -50%);
  width: 100%;
  height: auto;
  left: 50%;
  opacity: 1;
  position: relative;
  top: 50%;
  display: block;
`;
const avatarBadgeSize = {
    'xx-small': '6px',
    'x-small': '8px',
    small: '10px',
    medium: '12px',
    large: '16px',
    'x-large': '20px',
};
const avatarBadgeFontSize = {
    'xx-small': '0',
    'x-small': '0',
    small: '0',
    medium: '8px',
    large: '10px',
    'x-large': '10px',
};
const AvatarBadge = styled('div') `
  position: absolute;
  overflow: hidden;
  border-radius: 50%;
  border: solid 2px ${themed(props => props.theme.ui1)};
  color: ${themed(props => props.theme.text7)};
  bottom: -2px;
  right: -2px;

  ${({ size }) => `
    width: ${avatarBadgeSize[size]};
    height: ${avatarBadgeSize[size]};
    line-height: ${avatarBadgeSize[size]};
    font-size: ${avatarBadgeFontSize[size]}
  `};
`;
const defaultSize = 'medium';
/**
 * The avatar component renders an avatar sticker with an optional badge.
 *
 * We must provide either an `image` or an `initials` prop for the Avatar component to work correctly.
 */
export const Avatar = Object.assign(((_a) => {
    var { image, description, children, size = defaultSize } = _a, props = __rest(_a, ["image", "description", "children", "size"]);
    return (React.createElement(AvatarContainer, Object.assign({}, props, { title: description, size: size }),
        React.createElement(AvatarContent, { size: size, theme: props.theme }, image ? (React.createElement(AvatarImage, { src: image, alt: description })) : (React.createElement(AvatarInitials, { size: size, theme: props.theme, color: props.color }, (props.initials || '').substr(0, 2)))),
        children && (React.createElement(AvatarBadge, { theme: props.theme, size: size }, children))));
}), { inner: {
        get AvatarContainer() { return AvatarContainer; },
        get AvatarContent() { return AvatarContent; },
        get AvatarImage() { return AvatarImage; },
        get AvatarInitials() { return AvatarInitials; },
        get AvatarBadge() { return AvatarBadge; }
    } });
Avatar.displayName = 'Avatar';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9BdmF0YXIvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLE9BQU8sS0FBSyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBQy9CLE9BQU8sTUFBTSxFQUFFLEVBQUUsTUFBTSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFcEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3BELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQW9DOUMsTUFBTSxVQUFVLEdBQUc7SUFDZixVQUFVLEVBQUUsTUFBTTtJQUNsQixTQUFTLEVBQUUsTUFBTTtJQUNqQixLQUFLLEVBQUUsTUFBTTtJQUNiLE1BQU0sRUFBRSxNQUFNO0lBQ2QsS0FBSyxFQUFFLE1BQU07SUFDYixTQUFTLEVBQUUsTUFBTTtDQUNwQixDQUFDO0FBQ0YsTUFBTSxjQUFjLEdBQUc7SUFDbkIsVUFBVSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUM7SUFDMUIsU0FBUyxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUM7SUFDMUIsS0FBSyxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUM7SUFDdEIsTUFBTSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUM7SUFDdkIsS0FBSyxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUM7SUFDdEIsU0FBUyxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUM7Q0FDN0IsQ0FBQztBQUNGLE1BQU0sZUFBZSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBVzs7O0lBRzVDLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQUM7YUFDTCxVQUFVLENBQUMsSUFBSSxDQUFDO2NBQ2YsVUFBVSxDQUFDLElBQUksQ0FBQztHQUMzQjtDQUNGLENBQUM7QUFDRixNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUMsS0FB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QU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQ3JCLENBQUMsQ0FDTjtRQUNmLFFBQVEsSUFBSSxDQUFDLG9CQUFDLFdBQVcsSUFBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxJQUNwRCxRQUFRLENBQ0csQ0FBQyxDQUNELENBQUMsQ0FBQTtDQUFBLENBQTRCLEVBQUUsRUFBRSxLQUFLLEVBQUU7UUFDcEQsSUFBSSxlQUFlLEtBQUssT0FBTyxlQUF5QyxDQUFDLENBQUMsQ0FBQztRQUMzRSxJQUFJLGFBQWEsS0FBSyxPQUFPLGFBQXFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JFLElBQUksV0FBVyxLQUFLLE9BQU8sV0FBaUMsQ0FBQyxDQUFDLENBQUM7UUFDL0QsSUFBSSxjQUFjLEtBQUssT0FBTyxjQUF1QyxDQUFDLENBQUMsQ0FBQztRQUN4RSxJQUFJLFdBQVcsS0FBSyxPQUFPLFdBQWlDLENBQUMsQ0FBQyxDQUFDO0tBQ2xFLEVBQUUsQ0FBQyxDQUFDO0FBQ1QsTUFBTSxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkLCB7IHRoZW1lZCB9IGZyb20gJy4uLy4uL3V0aWxzL3N0eWxlZCc7XG5pbXBvcnQgeyBTdGFuZGFyZFByb3BzIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IGNvbG9yQ3ljbGUgfSBmcm9tICcuLi8uLi91dGlscy9jb2xvckN5Y2xlJztcbmltcG9ydCB7IHJlbUNhbGMgfSBmcm9tICcuLi8uLi91dGlscy9yZW1DYWxjJztcbmV4cG9ydCB0eXBlIEF2YXRhclNpemUgPSAneHgtc21hbGwnIHwgJ3gtc21hbGwnIHwgJ3NtYWxsJyB8ICdtZWRpdW0nIHwgJ2xhcmdlJyB8ICd4LWxhcmdlJztcbmV4cG9ydCBpbnRlcmZhY2UgQXZhdGFyUHJvcHMgZXh0ZW5kcyBTdGFuZGFyZFByb3BzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgYXZhdGFyLCB3aGVyZSBtZWRpdW0gaXMgdGhlIGRlZmF1bHQgc2l6ZS5cbiAgICAgKi9cbiAgICBzaXplPzogQXZhdGFyU2l6ZTtcbiAgICAvKipcbiAgICAgKiBUaGUgaW5pdGlhbHMgb2YgdGhlIHVzZXIgLSBhdCBtb3N0IHR3byBsZXR0ZXJzIGFyZSBiZWluZyBzaG93bi5cbiAgICAgKi9cbiAgICBpbml0aWFscz86IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBPcHRpb24gdG8gb3ZlcnJpZGUgdGhlIGF1dG9tYXRpYyBjb2xvciBwaWNrIGlmIG5vIGltYWdlIHdhcyBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBjb2xvcj86IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgaW1hZ2UgVVJMIHRvIGJlIHVzZWQgYXMgQXZhdGFyIGljb24uXG4gICAgICovXG4gICAgaW1hZ2U/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogVGhlIG9wdGlvbmFsIGRlc2NyaXB0aW9uIHRvIHNob3cgZm9yIHRoZSBBdmF0YXIuXG4gICAgICovXG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG9wdGlvbmFsIGJhZGdlLlxuICAgICAqL1xuICAgIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xufVxuZXhwb3J0IGludGVyZmFjZSBTaXplUHJvcCB7XG4gICAgc2l6ZTogQXZhdGFyU2l6ZTtcbn1cbmludGVyZmFjZSBBdmF0YXJJbml0aWFsc0Jhc2VQcm9wcyB7XG4gICAgY29sb3I/OiBzdHJpbmc7XG4gICAgaW5pdGlhbHM/OiBzdHJpbmc7XG4gICAgdGhlbWU/OiBhbnk7XG59XG5jb25zdCBhdmF0YXJTaXplID0ge1xuICAgICd4eC1zbWFsbCc6ICcxNnB4JyxcbiAgICAneC1zbWFsbCc6ICcyNHB4JyxcbiAgICBzbWFsbDogJzMycHgnLFxuICAgIG1lZGl1bTogJzQwcHgnLFxuICAgIGxhcmdlOiAnNDhweCcsXG4gICAgJ3gtbGFyZ2UnOiAnNzJweCcsXG59O1xuY29uc3QgYXZhdGFyRm9udFNpemUgPSB7XG4gICAgJ3h4LXNtYWxsJzogcmVtQ2FsYygnOXB4JyksXG4gICAgJ3gtc21hbGwnOiByZW1DYWxjKCcxMXB4JyksXG4gICAgc21hbGw6IHJlbUNhbGMoJzE0cHgnKSxcbiAgICBtZWRpdW06IHJlbUNhbGMoJzE0cHgnKSxcbiAgICBsYXJnZTogcmVtQ2FsYygnMTdweCcpLFxuICAgICd4LWxhcmdlJzogcmVtQ2FsYygnMjhweCcpLFxufTtcbmNvbnN0IEF2YXRhckNvbnRhaW5lciA9IHN0eWxlZCgnZGl2Jyk8U2l6ZVByb3A+IGBcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICAkeyh7IHNpemUgfSkgPT4gYFxuICAgIHdpZHRoOiAke2F2YXRhclNpemVbc2l6ZV19O1xuICAgIGhlaWdodDogJHthdmF0YXJTaXplW3NpemVdfVxuICBgfTtcbmA7XG5jb25zdCBBdmF0YXJDb250ZW50ID0gc3R5bGVkKCdkaXYnKTxTaXplUHJvcD4gYFxuICBib3JkZXI6IDA7XG4gIHBlcnNwZWN0aXZlOiAxcHg7XG5cbiAgY29sb3I6ICR7dGhlbWVkKHByb3BzID0+IHByb3BzLnRoZW1lLnRleHQ3KX07XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcblxuICAkeyh7IHNpemUgfSkgPT4gYFxuICAgIHdpZHRoOiAke2F2YXRhclNpemVbc2l6ZV19O1xuICAgIGhlaWdodDogJHthdmF0YXJTaXplW3NpemVdfTtcbiAgYH07XG5gO1xuY29uc3QgQXZhdGFySW5pdGlhbHMgPSBzdHlsZWQoJ2RpdicpPFNpemVQcm9wICYgQXZhdGFySW5pdGlhbHNCYXNlUHJvcHM+IGBcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lZChwcm9wcyA9PiBwcm9wcy5jb2xvciB8fCBjb2xvckN5Y2xlKHByb3BzLnRoZW1lLmNvbG9yQ3ljbGUsIHByb3BzLmluaXRpYWxzKSl9O1xuICAkeyh7IHNpemUgfSkgPT4gYFxuICAgIGhlaWdodDogJHthdmF0YXJTaXplW3NpemVdfTtcbiAgICB3aWR0aDogJHthdmF0YXJTaXplW3NpemVdfTtcbiAgICBmb250LXNpemU6ICR7YXZhdGFyRm9udFNpemVbc2l6ZV19O1xuICBgfTtcbmA7XG5jb25zdCBBdmF0YXJJbWFnZSA9IHN0eWxlZC5pbWcgYFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogYXV0bztcbiAgbGVmdDogNTAlO1xuICBvcGFjaXR5OiAxO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNTAlO1xuICBkaXNwbGF5OiBibG9jaztcbmA7XG5jb25zdCBhdmF0YXJCYWRnZVNpemUgPSB7XG4gICAgJ3h4LXNtYWxsJzogJzZweCcsXG4gICAgJ3gtc21hbGwnOiAnOHB4JyxcbiAgICBzbWFsbDogJzEwcHgnLFxuICAgIG1lZGl1bTogJzEycHgnLFxuICAgIGxhcmdlOiAnMTZweCcsXG4gICAgJ3gtbGFyZ2UnOiAnMjBweCcsXG59O1xuY29uc3QgYXZhdGFyQmFkZ2VGb250U2l6ZSA9IHtcbiAgICAneHgtc21hbGwnOiAnMCcsXG4gICAgJ3gtc21hbGwnOiAnMCcsXG4gICAgc21hbGw6ICcwJyxcbiAgICBtZWRpdW06ICc4cHgnLFxuICAgIGxhcmdlOiAnMTBweCcsXG4gICAgJ3gtbGFyZ2UnOiAnMTBweCcsXG59O1xuY29uc3QgQXZhdGFyQmFkZ2UgPSBzdHlsZWQoJ2RpdicpPFNpemVQcm9wPiBgXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBib3JkZXI6IHNvbGlkIDJweCAke3RoZW1lZChwcm9wcyA9PiBwcm9wcy50aGVtZS51aTEpfTtcbiAgY29sb3I6ICR7dGhlbWVkKHByb3BzID0+IHByb3BzLnRoZW1lLnRleHQ3KX07XG4gIGJvdHRvbTogLTJweDtcbiAgcmlnaHQ6IC0ycHg7XG5cbiAgJHsoeyBzaXplIH0pID0+IGBcbiAgICB3aWR0aDogJHthdmF0YXJCYWRnZVNpemVbc2l6ZV19O1xuICAgIGhlaWdodDogJHthdmF0YXJCYWRnZVNpemVbc2l6ZV19O1xuICAgIGxpbmUtaGVpZ2h0OiAke2F2YXRhckJhZGdlU2l6ZVtzaXplXX07XG4gICAgZm9udC1zaXplOiAke2F2YXRhckJhZGdlRm9udFNpemVbc2l6ZV19XG4gIGB9O1xuYDtcbmNvbnN0IGRlZmF1bHRTaXplOiBBdmF0YXJTaXplID0gJ21lZGl1bSc7XG4vKipcbiAqIFRoZSBhdmF0YXIgY29tcG9uZW50IHJlbmRlcnMgYW4gYXZhdGFyIHN0aWNrZXIgd2l0aCBhbiBvcHRpb25hbCBiYWRnZS5cbiAqXG4gKiBXZSBtdXN0IHByb3ZpZGUgZWl0aGVyIGFuIGBpbWFnZWAgb3IgYW4gYGluaXRpYWxzYCBwcm9wIGZvciB0aGUgQXZhdGFyIGNvbXBvbmVudCB0byB3b3JrIGNvcnJlY3RseS5cbiAqL1xuZXhwb3J0IGNvbnN0IEF2YXRhciA9IE9iamVjdC5hc3NpZ24oKCgoeyBpbWFnZSwgZGVzY3JpcHRpb24sIGNoaWxkcmVuLCBzaXplID0gZGVmYXVsdFNpemUsIC4uLnByb3BzIH0pID0+ICg8QXZhdGFyQ29udGFpbmVyIHsuLi5wcm9wc30gdGl0bGU9e2Rlc2NyaXB0aW9ufSBzaXplPXtzaXplfT5cbiAgICA8QXZhdGFyQ29udGVudCBzaXplPXtzaXplfSB0aGVtZT17cHJvcHMudGhlbWV9PlxuICAgICAge2ltYWdlID8gKDxBdmF0YXJJbWFnZSBzcmM9e2ltYWdlfSBhbHQ9e2Rlc2NyaXB0aW9ufS8+KSA6ICg8QXZhdGFySW5pdGlhbHMgc2l6ZT17c2l6ZX0gdGhlbWU9e3Byb3BzLnRoZW1lfSBjb2xvcj17cHJvcHMuY29sb3J9PlxuICAgICAgICAgIHsocHJvcHMuaW5pdGlhbHMgfHwgJycpLnN1YnN0cigwLCAyKX1cbiAgICAgICAgPC9BdmF0YXJJbml0aWFscz4pfVxuICAgIDwvQXZhdGFyQ29udGVudD5cbiAgICB7Y2hpbGRyZW4gJiYgKDxBdmF0YXJCYWRnZSB0aGVtZT17cHJvcHMudGhlbWV9IHNpemU9e3NpemV9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L0F2YXRhckJhZGdlPil9XG4gIDwvQXZhdGFyQ29udGFpbmVyPikpIGFzIFJlYWN0LlNGQzxBdmF0YXJQcm9wcz4pLCB7IGlubmVyOiB7XG4gICAgICAgIGdldCBBdmF0YXJDb250YWluZXIoKSB7IHJldHVybiBBdmF0YXJDb250YWluZXIgYXMgdHlwZW9mIEF2YXRhckNvbnRhaW5lcjsgfSxcbiAgICAgICAgZ2V0IEF2YXRhckNvbnRlbnQoKSB7IHJldHVybiBBdmF0YXJDb250ZW50IGFzIHR5cGVvZiBBdmF0YXJDb250ZW50OyB9LFxuICAgICAgICBnZXQgQXZhdGFySW1hZ2UoKSB7IHJldHVybiBBdmF0YXJJbWFnZSBhcyB0eXBlb2YgQXZhdGFySW1hZ2U7IH0sXG4gICAgICAgIGdldCBBdmF0YXJJbml0aWFscygpIHsgcmV0dXJuIEF2YXRhckluaXRpYWxzIGFzIHR5cGVvZiBBdmF0YXJJbml0aWFsczsgfSxcbiAgICAgICAgZ2V0IEF2YXRhckJhZGdlKCkgeyByZXR1cm4gQXZhdGFyQmFkZ2UgYXMgdHlwZW9mIEF2YXRhckJhZGdlOyB9XG4gICAgfSB9KTtcbkF2YXRhci5kaXNwbGF5TmFtZSA9ICdBdmF0YXInO1xuIl19
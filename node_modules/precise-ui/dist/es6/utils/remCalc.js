import { unit } from './unit';
import { stripUnit } from './stripUnit';
function calcBasis(myBase) {
    const myUnit = unit(myBase);
    const num = stripUnit(myBase);
    // If the base font size is a %, then multiply it by 16px
    // This is because 100% font size = 16px in most all browsers
    if (myUnit === '%') {
        return (num / 100) * 16;
    }
    // Using rem as base allows correct scaling
    if (myUnit === 'rem') {
        return num * 16;
    }
    return num;
}
function convertArray(input, baseNum) {
    const output = [];
    for (const value of input) {
        output.push(`${stripUnit(value) / baseNum}rem`);
    }
    return output.join(' ');
}
/**
 * Converts one or more pixel values into matching rem values.
 * @param values One or more values to convert.
 * @param base The base value to use when calculating the `rem`.
 */
export function remCalc(input, base) {
    // If no base is defined, defer to the global font size
    const myBase = base || '16px';
    const baseNum = calcBasis(myBase);
    if (typeof input === 'string') {
        return `${stripUnit(input) / baseNum}rem`;
    }
    return convertArray(input, baseNum);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVtQ2FsYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy91dGlscy9yZW1DYWxjLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFDOUIsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUV4QyxTQUFTLFNBQVMsQ0FBQyxNQUFjO0lBQy9CLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1QixNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFOUIseURBQXlEO0lBQ3pELDZEQUE2RDtJQUM3RCxJQUFJLE1BQU0sS0FBSyxHQUFHLEVBQUU7UUFDbEIsT0FBTyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDekI7SUFFRCwyQ0FBMkM7SUFDM0MsSUFBSSxNQUFNLEtBQUssS0FBSyxFQUFFO1FBQ3BCLE9BQU8sR0FBRyxHQUFHLEVBQUUsQ0FBQztLQUNqQjtJQUVELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQUVELFNBQVMsWUFBWSxDQUFDLEtBQW9CLEVBQUUsT0FBZTtJQUN6RCxNQUFNLE1BQU0sR0FBa0IsRUFBRSxDQUFDO0lBRWpDLEtBQUssTUFBTSxLQUFLLElBQUksS0FBSyxFQUFFO1FBQ3pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxLQUFLLENBQUMsQ0FBQztLQUNqRDtJQUVELE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMxQixDQUFDO0FBRUQ7Ozs7R0FJRztBQUNILE1BQU0sVUFBVSxPQUFPLENBQUMsS0FBNkIsRUFBRSxJQUFhO0lBQ2xFLHVEQUF1RDtJQUN2RCxNQUFNLE1BQU0sR0FBRyxJQUFJLElBQUksTUFBTSxDQUFDO0lBQzlCLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUVsQyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtRQUM3QixPQUFPLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLE9BQU8sS0FBSyxDQUFDO0tBQzNDO0lBRUQsT0FBTyxZQUFZLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3RDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1bml0IH0gZnJvbSAnLi91bml0JztcbmltcG9ydCB7IHN0cmlwVW5pdCB9IGZyb20gJy4vc3RyaXBVbml0JztcblxuZnVuY3Rpb24gY2FsY0Jhc2lzKG15QmFzZTogc3RyaW5nKSB7XG4gIGNvbnN0IG15VW5pdCA9IHVuaXQobXlCYXNlKTtcbiAgY29uc3QgbnVtID0gc3RyaXBVbml0KG15QmFzZSk7XG5cbiAgLy8gSWYgdGhlIGJhc2UgZm9udCBzaXplIGlzIGEgJSwgdGhlbiBtdWx0aXBseSBpdCBieSAxNnB4XG4gIC8vIFRoaXMgaXMgYmVjYXVzZSAxMDAlIGZvbnQgc2l6ZSA9IDE2cHggaW4gbW9zdCBhbGwgYnJvd3NlcnNcbiAgaWYgKG15VW5pdCA9PT0gJyUnKSB7XG4gICAgcmV0dXJuIChudW0gLyAxMDApICogMTY7XG4gIH1cblxuICAvLyBVc2luZyByZW0gYXMgYmFzZSBhbGxvd3MgY29ycmVjdCBzY2FsaW5nXG4gIGlmIChteVVuaXQgPT09ICdyZW0nKSB7XG4gICAgcmV0dXJuIG51bSAqIDE2O1xuICB9XG5cbiAgcmV0dXJuIG51bTtcbn1cblxuZnVuY3Rpb24gY29udmVydEFycmF5KGlucHV0OiBBcnJheTxzdHJpbmc+LCBiYXNlTnVtOiBudW1iZXIpIHtcbiAgY29uc3Qgb3V0cHV0OiBBcnJheTxzdHJpbmc+ID0gW107XG5cbiAgZm9yIChjb25zdCB2YWx1ZSBvZiBpbnB1dCkge1xuICAgIG91dHB1dC5wdXNoKGAke3N0cmlwVW5pdCh2YWx1ZSkgLyBiYXNlTnVtfXJlbWApO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcgJyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgb25lIG9yIG1vcmUgcGl4ZWwgdmFsdWVzIGludG8gbWF0Y2hpbmcgcmVtIHZhbHVlcy5cbiAqIEBwYXJhbSB2YWx1ZXMgT25lIG9yIG1vcmUgdmFsdWVzIHRvIGNvbnZlcnQuXG4gKiBAcGFyYW0gYmFzZSBUaGUgYmFzZSB2YWx1ZSB0byB1c2Ugd2hlbiBjYWxjdWxhdGluZyB0aGUgYHJlbWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1DYWxjKGlucHV0OiBBcnJheTxzdHJpbmc+IHwgc3RyaW5nLCBiYXNlPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gSWYgbm8gYmFzZSBpcyBkZWZpbmVkLCBkZWZlciB0byB0aGUgZ2xvYmFsIGZvbnQgc2l6ZVxuICBjb25zdCBteUJhc2UgPSBiYXNlIHx8ICcxNnB4JztcbiAgY29uc3QgYmFzZU51bSA9IGNhbGNCYXNpcyhteUJhc2UpO1xuXG4gIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGAke3N0cmlwVW5pdChpbnB1dCkgLyBiYXNlTnVtfXJlbWA7XG4gIH1cblxuICByZXR1cm4gY29udmVydEFycmF5KGlucHV0LCBiYXNlTnVtKTtcbn1cbiJdfQ==